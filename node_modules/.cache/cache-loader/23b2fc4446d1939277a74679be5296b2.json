{"remainingRequest":"/Users/Yun/Desktop/vdocs/website/node_modules/babel-loader/lib/index.js??ref--9-1!/Users/Yun/Desktop/vdocs/website/node_modules/@docusaurus/mdx-loader/src/index.js??ref--9-2!/Users/Yun/Desktop/vdocs/website/plugins/guides/markdownLoader.js??ref--9-3!/Users/Yun/Desktop/vdocs/website/guides/advanced/1parsing-csv-logs-with-lua.md","dependencies":[{"path":"/Users/Yun/Desktop/vdocs/website/guides/advanced/1parsing-csv-logs-with-lua.md","mtime":1594983873340},{"path":"/Users/Yun/Desktop/vdocs/website/.docusaurus/guides/site-guides-advanced-1-parsing-csv-logs-with-lua-md-128.json","mtime":1594983878227},{"path":"/Users/Yun/Desktop/vdocs/website/node_modules/cache-loader/dist/cjs.js","mtime":1588759099254},{"path":"/Users/Yun/Desktop/vdocs/website/node_modules/babel-loader/lib/index.js","mtime":1588759098876},{"path":"/Users/Yun/Desktop/vdocs/website/node_modules/@docusaurus/mdx-loader/src/index.js","mtime":1588759134386},{"path":"/Users/Yun/Desktop/vdocs/website/plugins/guides/markdownLoader.js","mtime":1594780808724}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9leHRlbmRzIGZyb20iL1VzZXJzL1l1bi9EZXNrdG9wL3Zkb2NzL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMiO2ltcG9ydCBSZWFjdCBmcm9tJ3JlYWN0JztpbXBvcnR7bWR4fWZyb20nQG1keC1qcy9yZWFjdCc7ZXhwb3J0IGNvbnN0IGZyb250TWF0dGVyPXtsYXN0X21vZGlmaWVkX29uOicyMDIwLTA3LTEzJywkc2NoZW1hOicvLm1ldGEvLnNjaGVtYXMvZ3VpZGVzLmpzb24nLHRpdGxlOidQYXJzaW5nIENTViBsb2dzIHdpdGggTHVhJyxkZXNjcmlwdGlvbjonUGFyc2Ugc3RydWN0dXJlZCBhcHBsaWNhdGlvbiBsb2dzIGluIENTViBmb3JtYXQgdXNpbmcgTHVhIHRyYW5zZm9ybScsYXV0aG9yX2dpdGh1YjonaHR0cHM6Ly9naXRodWIuY29tL2Etcm9kaW4nLHRhZ3M6Wyd0eXBlOiBndWlkZScsJ2RvbWFpbjogdHJhbnNmb3JtcycsJ3RyYW5zZm9ybTogbHVhJ119O2V4cG9ydCBjb25zdCBtZXRhZGF0YT17ImNhdGVnb3JpZXMiOlt7Im5hbWUiOiJhZHZhbmNlZCIsInRpdGxlIjoiQWR2YW5jZWQiLCJkZXNjcmlwdGlvbiI6IkdvIHRoZSBiYXNpY3MsIGJlY29tZSBhIFZlY3RvciBwcm8sIGFuZCBleHRyYWN0IHRoZSBmdWxsIHBvdGVudGlhbCBvZiBWZWN0b3IuIiwicGVybWFsaW5rIjoiL2d1aWRlcy9hZHZhbmNlZCJ9XSwiY292ZXJMYWJlbCI6IlBhcnNpbmcgQ1NWIGxvZ3Mgd2l0aCBMdWEiLCJkZXNjcmlwdGlvbiI6IlBhcnNlIHN0cnVjdHVyZWQgYXBwbGljYXRpb24gbG9ncyBpbiBDU1YgZm9ybWF0IHVzaW5nIEx1YSB0cmFuc2Zvcm0iLCJwZXJtYWxpbmsiOiIvZ3VpZGVzL2FkdmFuY2VkLzFwYXJzaW5nLWNzdi1sb2dzLXdpdGgtbHVhIiwicmVhZGluZ1RpbWUiOiI2IG1pbiByZWFkIiwic291cmNlIjoiQHNpdGUvZ3VpZGVzL2FkdmFuY2VkLzFwYXJzaW5nLWNzdi1sb2dzLXdpdGgtbHVhLm1kIiwidGFncyI6W3sibGFiZWwiOiJ0eXBlOiBndWlkZSIsInBlcm1hbGluayI6Ii9ndWlkZXMvdGFncy90eXBlLWd1aWRlIn0seyJsYWJlbCI6ImRvbWFpbjogdHJhbnNmb3JtcyIsInBlcm1hbGluayI6Ii9ndWlkZXMvdGFncy9kb21haW4tdHJhbnNmb3JtcyJ9LHsibGFiZWwiOiJ0cmFuc2Zvcm06IGx1YSIsInBlcm1hbGluayI6Ii9ndWlkZXMvdGFncy90cmFuc2Zvcm0tbHVhIn1dLCJ0aXRsZSI6IlBhcnNpbmcgQ1NWIGxvZ3Mgd2l0aCBMdWEiLCJ0cnVuY2F0ZWQiOmZhbHNlLCJwcmV2SXRlbSI6eyJ0aXRsZSI6Ik1lcmdlIG11bHRpLWxpbmUgbG9ncyB3aXRoIEx1YSIsInBlcm1hbGluayI6Ii9ndWlkZXMvYWR2YW5jZWQvbWVyZ2UtbXVsdGlsaW5lLWxvZ3Mtd2l0aC1sdWEifSwibmV4dEl0ZW0iOnsidGl0bGUiOiJUcm91Ymxlc2hvb3RpbmciLCJwZXJtYWxpbmsiOiIvZ3VpZGVzL2FkdmFuY2VkL3Ryb3VibGVzaG9vdGluZyJ9fTsvKiBAanN4IG1keCAqL2ltcG9ydCBBc3N1bXB0aW9ucyBmcm9tJ0BzaXRlL3NyYy9jb21wb25lbnRzL0Fzc3VtcHRpb25zJztleHBvcnQgY29uc3QgcmlnaHRUb2M9W3t2YWx1ZTonR2V0dGluZyBTdGFydGVkJyxpZDonZ2V0dGluZy1zdGFydGVkJyxjaGlsZHJlbjpbXX0se3ZhbHVlOidBZGRpbmcgdGhlIENTViBNb2R1bGUnLGlkOidhZGRpbmctdGhlLWNzdi1tb2R1bGUnLGNoaWxkcmVuOltdfSx7dmFsdWU6J0ltcGxlbWVudGluZyBDdXN0b20gUGFyc2luZycsaWQ6J2ltcGxlbWVudGluZy1jdXN0b20tcGFyc2luZycsY2hpbGRyZW46W119LHt2YWx1ZTonRnVydGhlciBJbXByb3ZlbWVudHMnLGlkOidmdXJ0aGVyLWltcHJvdmVtZW50cycsY2hpbGRyZW46W3t2YWx1ZTonU3VwcG9ydCBmb3IgTXVsdGktbGluZSBTdHJpbmdzJyxpZDonc3VwcG9ydC1mb3ItbXVsdGktbGluZS1zdHJpbmdzJyxjaGlsZHJlbjpbXX0se3ZhbHVlOidDaGFuZ2UgRmllbGRzIFR5cGVzJyxpZDonY2hhbmdlLWZpZWxkcy10eXBlcycsY2hpbGRyZW46W119XX1dO2NvbnN0IG1ha2VTaG9ydGNvZGU9bmFtZT0+ZnVuY3Rpb24gTURYRGVmYXVsdFNob3J0Y29kZShwcm9wcyl7Y29uc29sZS53YXJuKCJDb21wb25lbnQgIituYW1lKyIgd2FzIG5vdCBpbXBvcnRlZCwgZXhwb3J0ZWQsIG9yIHByb3ZpZGVkIGJ5IE1EWFByb3ZpZGVyIGFzIGdsb2JhbCBzY29wZSIpO3JldHVybiBtZHgoImRpdiIscHJvcHMpO307Y29uc3QgbGF5b3V0UHJvcHM9e3JpZ2h0VG9jfTtjb25zdCBNRFhMYXlvdXQ9IndyYXBwZXIiO2V4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1EWENvbnRlbnQoe2NvbXBvbmVudHMsLi4ucHJvcHN9KXtyZXR1cm4gbWR4KE1EWExheW91dCxfZXh0ZW5kcyh7fSxsYXlvdXRQcm9wcyxwcm9wcyx7Y29tcG9uZW50czpjb21wb25lbnRzLG1keFR5cGU6Ik1EWExheW91dCJ9KSxtZHgoQXNzdW1wdGlvbnMse21keFR5cGU6IkFzc3VtcHRpb25zIn0sbWR4KCJ1bCIsbnVsbCxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxgWW91IHVuZGVyc3RhbmQgdGhlIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToibGkifSx7ImhyZWYiOiIvZG9jcy9yZWZlcmVuY2UvdHJhbnNmb3Jtcy9sdWEvIn0pLGBiYXNpYyBMdWEgY29uY2VwdHNgKSxgLmApLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LGBZb3UgdW5kZXJzdGFuZCB0aGUgYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJsaSJ9LHsiaHJlZiI6Ii9kb2NzL2Fib3V0L2NvbmNlcHRzLyJ9KSxgYmFzaWMgVmVjdG9yIGNvbmNlcHRzYCksYCBhbmQgdW5kZXJzdGFuZCBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6ImxpIn0seyJocmVmIjoiL2d1aWRlcy9nZXR0aW5nLXN0YXJ0ZWQveW91ci1maXJzdC1waXBlbGluZS8ifSksYGhvdyB0byBzZXQgdXAgYSBwaXBlbGluZWApLGAuYCkpKSxtZHgoInAiLG51bGwsYFZlY3RvciBoYXMgbWFueSBidWlsdC1pbiBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiIvY29tcG9uZW50cy8/ZnVuY3Rpb25zJTVCJTVEPXBhcnNlLyJ9KSxgcGFyc2Vyc2ApLGAgZm9yIHN0cnVjdHVyZWQgbG9ncyBmb3JtYXRzLiBIb3dldmVyLCB3aGVuIHlvdSBuZWVkIHRvIHNoaXAKbG9ncyBpbiBhIGN1c3RvbSBvciBhcHBsaWNhdGlvbi1zcGVjaWZpYyBmb3JtYXQsIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Ii9jb21wb25lbnRzLz9mdW5jdGlvbnMlNUIlNUQ9cHJvZ3JhbS8ifSksYHByb2dyYW1tYWJsZSB0cmFuc2Zvcm1zYCksYCBoYXZlIGdvdCB5b3UKY292ZXJlZC5gKSxtZHgoInAiLG51bGwsYFRoaXMgZ3VpZGUgd2Fsa3MgdGhyb3VnaCByZWFkaW5nIENTViBsb2dzIHVzaW5nIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Ii9kb2NzL3JlZmVyZW5jZS9zb3VyY2VzL2ZpbGUvIn0pLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6ImEifSxgZmlsZWApKSxgIHNvdXJjZSBhbmQgcGFyc2luZyB0aGVtIHVzaW5nCmAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Ii9kb2NzL3JlZmVyZW5jZS90cmFuc2Zvcm1zL2x1YS8ifSksbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToiYSJ9LGBsdWFgKSksYCB0cmFuc2Zvcm0gd2l0aCBhIGxvYWRhYmxlIEx1YSBtb2R1bGUuYCksbWR4KCJoMiIseyJpZCI6ImdldHRpbmctc3RhcnRlZCJ9LGBHZXR0aW5nIFN0YXJ0ZWRgKSxtZHgoInAiLG51bGwsYEZvciBjZXJ0YWludHksIGl0IGlzIGFzc3VtZWQgaW4gdGhlIGZvbGxvd2luZyB0aGF0IHRoZSBsb2dzIHRvIGJlIHJlYWQgYXJlIHByb2R1Y2VkIGJ5CmAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Imh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL2RvY3MvY3VycmVudC9ydW50aW1lLWNvbmZpZy1sb2dnaW5nLmh0bWwjUlVOVElNRS1DT05GSUctTE9HR0lORy1DU1ZMT0cifSksbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToiYSJ9LGBjc3Zsb2dgKSksYCBpbiBQb3N0Z3JlU1FMLiBGb3IgZXhhbXBsZSwgdGhlcmUgbWlnaHQgYmUgdGhlIGZvbGxvd2luZwpsb2cgZmlsZTpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWNzdiIsIm1ldGFzdHJpbmciOiJ0aXRsZT1cImxvZy5jc3ZcIiIsInRpdGxlIjoiXCJsb2cuY3N2XCIifSksYDIwMjAtMDQtMDkgMTI6NDg6NDkuNjYxIFVUQywsLDEsLGxvY2FsaG9zdC4xLDEsLDIwMjAtMDQtMDkgMTI6NDg6NDkgVVRDLCwwLExPRywwMDAwMCwiZW5kaW5nIGxvZyBvdXRwdXQgdG8gc3RkZXJyIiwsIkZ1dHVyZSBsb2cgb3V0cHV0IHdpbGwgZ28gdG8gbG9nIGRlc3RpbmF0aW9uICIiY3N2bG9nIiIuIiwsLCwsLCwiIgoyMDIwLTA0LTA5IDEyOjQ4OjQ5LjY2OSBVVEMsLCwyNywsbG9jYWxob3N0LjFiLDEsLDIwMjAtMDQtMDkgMTI6NDg6NDkgVVRDLCwwLExPRywwMDAwMCwiZGF0YWJhc2Ugc3lzdGVtIHdhcyBzaHV0IGRvd24gYXQgMjAyMC0wNC0wOSAxMjo0ODoyNSBVVEMiLCwsLCwsLCwsIiIKMjAyMC0wNC0wOSAxMjo0ODo0OS42ODMgVVRDLCwsMSwsbG9jYWxob3N0LjEsMiwsMjAyMC0wNC0wOSAxMjo0ODo0OSBVVEMsLDAsTE9HLDAwMDAwLCJkYXRhYmFzZSBzeXN0ZW0gaXMgcmVhZHkgdG8gYWNjZXB0IGNvbm5lY3Rpb25zIiwsLCwsLCwsLCIiCmApKSxtZHgoInAiLG51bGwsYExldCB1cyBkcmFmdCBhbiBpbml0aWFsIHZlcnNpb24gb2YgdGhlIFZlY3RvcidzIGNvbmZpZ3VyYXRpb24gZmlsZTpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLXRvbWwiLCJtZXRhc3RyaW5nIjoidGl0bGU9XCJ2ZWN0b3IudG9tbFwiIiwidGl0bGUiOiJcInZlY3Rvci50b21sXCIifSksYGRhdGFfZGlyID0gIi4iCgpbc291cmNlcy5maWxlXQogIHR5cGUgPSAiZmlsZSIKICBpbmNsdWRlID0gWyIqLmNzdiJdCiAgc3RhcnRfYXRfYmVnaW5uaW5nID0gdHJ1ZQoKW3RyYW5zZm9ybXMubHVhXQogIGlucHV0cyA9IFsiZmlsZSJdCiAgdHlwZSA9ICJsdWEiCiAgdmVyc2lvbiA9ICIyIgogIGhvb2tzLnByb2Nlc3MgPSAiIiIKICAgIGZ1bmN0aW9uIChldmVudCwgZW1pdCkKICAgICAgLS0gdG8gYmUgZXhwYW5kZWQKICAgICAgZW1pdChldmVudCkKICAgIGVuZAogICIiIgoKW3NpbmtzLmNvbnNvbGVdCiAgaW5wdXRzID0gWyJsdWEiXQogIHR5cGUgPSAiY29uc29sZSIKICBlbmNvZGluZyA9ICJqc29uIgpgKSksbWR4KCJwIixudWxsLGBUaGlzIGNvbmZpZyBzZXRzIHVwIGEgYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwIn0seyJocmVmIjoiL2RvY3MvbWV0YS9nbG9zc2FyeS8jcGlwZWxpbmUifSksYHBpcGVsaW5lYCksYCB0aGF0IHJlYWRzIGxvZyBmaWxlcywgcGlwZXMgdGhlbSB0aHJvdWdoIHRoZSBwYXJzaW5nCnRyYW5zZm9ybSAod2hpY2ggY3VycmVudGx5IGlzIGNvbmZpZ3VyZWQgdG8ganVzdCBwYXNzIHRoZSBldmVudHMgdGhyb3VnaCksIGFuZCBkaXNwbGF5cyB0aGUgcHJvZHVjZWQgbG9nIGV2ZW50cyB1c2luZwpgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiIvZG9jcy9yZWZlcmVuY2Uvc2lua3MvY29uc29sZS8ifSksbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToiYSJ9LGBjb25zb2xlYCkpLGAgc2luay5gKSxtZHgoInAiLG51bGwsYEF0IHRoaXMgcG9pbnQsIHJ1bm5pbmcgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHZlY3RvciAtLWNvbmZpZyB2ZWN0b3IudG9tbGApLGAgcmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nIG91dHB1dDpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWpzb24ifSksYHsiZmlsZSI6ImxvZy5jc3YiLCJob3N0IjoibG9jYWxob3N0IiwibWVzc2FnZSI6IjIwMjAtMDQtMDkgMTI6NDg6NDkuNjYxIFVUQywsLDEsLGxvY2FsaG9zdC4xLDEsLDIwMjAtMDQtMDkgMTI6NDg6NDkgVVRDLCwwLExPRywwMDAwMCxcXCJlbmRpbmcgbG9nIG91dHB1dCB0byBzdGRlcnJcXCIsLFxcIkZ1dHVyZSBsb2cgb3V0cHV0IHdpbGwgZ28gdG8gbG9nIGRlc3RpbmF0aW9uIFxcIlxcImNzdmxvZ1xcIlxcIi5cXCIsLCwsLCwsXFwiXFwiIiwidGltZXN0YW1wIjoiMjAyMC0wNC0wOVQxNDozMzoyOFoifQp7ImZpbGUiOiJsb2cuY3N2IiwiaG9zdCI6ImxvY2FsaG9zdCIsIm1lc3NhZ2UiOiIyMDIwLTA0LTA5IDEyOjQ4OjQ5LjY2OSBVVEMsLCwyNywsbG9jYWxob3N0LjFiLDEsLDIwMjAtMDQtMDkgMTI6NDg6NDkgVVRDLCwwLExPRywwMDAwMCxcXCJkYXRhYmFzZSBzeXN0ZW0gd2FzIHNodXQgZG93biBhdCAyMDIwLTA0LTA5IDEyOjQ4OjI1IFVUQ1xcIiwsLCwsLCwsLFxcIlxcIiIsInRpbWVzdGFtcCI6IjIwMjAtMDQtMDlUMTQ6MzM6MjhaIn0KeyJmaWxlIjoibG9nLmNzdiIsImhvc3QiOiJsb2NhbGhvc3QiLCJtZXNzYWdlIjoiMjAyMC0wNC0wOSAxMjo0ODo0OS42ODMgVVRDLCwsMSwsbG9jYWxob3N0LjEsMiwsMjAyMC0wNC0wOSAxMjo0ODo0OSBVVEMsLDAsTE9HLDAwMDAwLFxcImRhdGFiYXNlIHN5c3RlbSBpcyByZWFkeSB0byBhY2NlcHQgY29ubmVjdGlvbnNcXCIsLCwsLCwsLCxcXCJcXCIiLCJ0aW1lc3RhbXAiOiIyMDIwLTA0LTA5VDE0OjMzOjI4WiJ9CmApKSxtZHgoImgyIix7ImlkIjoiYWRkaW5nLXRoZS1jc3YtbW9kdWxlIn0sYEFkZGluZyB0aGUgQ1NWIE1vZHVsZWApLG1keCgicCIsbnVsbCxgSW4gb3JkZXIgdG8gcGVyZm9ybSBhY3R1YWwgcGFyc2luZywgaXQgaXMgcG9zc2libGUgdG8gbGV2ZXJhZ2UgYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwIn0seyJocmVmIjoiaHR0cHM6Ly9naXRodWIuY29tL2dlb2ZmbGV5bGFuZC9sdWEtY3N2In0pLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6ImEifSxgbHVhLWNzdmApKSxgLgpCZWNhdXNlIGl0IGNvbnNpc3RzIG9mIGEgYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwIn0seyJocmVmIjoiaHR0cHM6Ly9naXRodWIuY29tL2dlb2ZmbGV5bGFuZC9sdWEtY3N2L2Jsb2IvMDk1NTdlNDYwOGIwMmQxMzZiOWFlMzlhOGZhMGYzNjMyOGZhMWNlYy9sdWEvY3N2Lmx1YSJ9KSxgc2luZ2xlIGZpbGVgKSxgLCBpdCBpcyBwb3NzaWJsZSB0byBqdXN0IGRvd25sb2FkIGl0IHRvIHRoZSBzYW1lCmRpcmVjdG9yeSB3aGVyZSBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgdmVjdG9yLnRvbWxgKSxgIGlzIHN0b3JlZDpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWJhc2gifSksYGN1cmwgLW8gY3N2Lmx1YSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZ2VvZmZsZXlsYW5kL2x1YS1jc3YvZDIwY2Q0MmQ2MWRjNTJlN2Y2YmNiMTNiNTk2YWM3YTdkNDI4MmZiZi9sdWEvY3N2Lmx1YQpgKSksbWR4KCJwIixudWxsLGBUaGVuIGl0IHdvdWxkIGJlIHBvc3NpYmxlIHRvIGxvYWQgaXQgYnkgY2FsbGluZyBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiJodHRwczovL3d3dy5sdWEub3JnL21hbnVhbC81LjMvbWFudWFsLmh0bWwjcGRmLXJlcXVpcmUifSksbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToiYSJ9LGByZXF1aXJlYCkpLGAgTHVhIGZ1bmN0aW9uIGluIHRoZQpgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiIvZG9jcy9yZWZlcmVuY2UvdHJhbnNmb3Jtcy9sdWEvI3NvdXJjZSJ9KSxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJhIn0sYHNvdXJjZWApKSxgIGNvbmZpZ3VyYXRpb24gc2VjdGlvbjpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLXRvbWwifSksYHNvdXJjZSA9ICIiIgogIGNzdiA9IHJlcXVpcmUoImNzdiIpCiIiIgpgKSksbWR4KCJwIixudWxsLGBXaXRoIHRoaXMgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHNvdXJjZWApLGAgdGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBjc3ZgKSxgIG1vZHVsZSBpcyBsb2FkZWQgd2hlbiBWZWN0b3IgaXMgc3RhcnRlZCB1cCAob3IgaWYgdGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBsdWFgKSxgIHRyYW5zZm9ybSBpcyBhZGRlZCBsYXRlciBhbmQgdGhlCmNvbmZpZyBpcyBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiIvZG9jcy9hZG1pbmlzdHJhdGlvbi9wcm9jZXNzLW1hbmFnZW1lbnQvI2F1dG9tYXRpYy1yZWxvYWQtb24tY2hhbmdlcyJ9KSxgYXV0b21hdGljYWxseSByZWxvYWRlZGApLGApIGFuZCBjYW4KYmUgdXNlZCB0aHJvdWdoIHRoZSBnbG9iYWwgdmFyaWFibGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGNzdmApLGAuYCksbWR4KCJoMiIseyJpZCI6ImltcGxlbWVudGluZy1jdXN0b20tcGFyc2luZyJ9LGBJbXBsZW1lbnRpbmcgQ3VzdG9tIFBhcnNpbmdgKSxtZHgoInAiLG51bGwsYFdpdGggdGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBjc3ZgKSxgIG1vZHVsZSwgdGhlIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Ii9kb2NzL3JlZmVyZW5jZS90cmFuc2Zvcm1zL2x1YS8jcHJvY2VzcyJ9KSxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJhIn0sYGhvb2tzLnByb2Nlc3NgKSksYCBjYW4gYmUgY2hhbmdlZCB0byB0aGUgZm9sbG93aW5nOmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHsiY2xhc3NOYW1lIjoibGFuZ3VhZ2UtdG9tbCJ9KSxgaG9va3MucHJvY2VzcyA9ICIiIgogIGZ1bmN0aW9uIChldmVudCwgZW1pdCkKICAgIGZpZWxkcyA9IGNzdi5vcGVuc3RyaW5nKGV2ZW50LmxvZy5tZXNzYWdlKTpsaW5lcygpKCkgLS0gcGFyc2UgdGhlIFxgbWVzc2FnZVxgIGZpZWxkCiAgICBldmVudC5sb2cubWVzc2FnZSA9IG5pbCAtLSBkcm9wIHRoZSBcYG1lc3NhZ2VcYCBmaWVsZAoKICAgIGNvbHVtbl9uYW1lcyA9IHsgIC0tIGEgc2VxdWVuY2UgY29udGFpbmluZyBDU1YgY29sdW1uIG5hbWVzCiAgICAgIC0tIC4uLgogICAgfQoKICAgIGZvciBjb2x1bW4sIHZhbHVlIGluIGlwYWlycyhmaWVsZHMpIGRvIC0tIGl0ZXJhdGUgb3ZlciBDU1YgY29sdW1ucwogICAgICBjb2x1bW5fbmFtZSA9IGNvbHVtbl9uYW1lc1tjb2x1bW5dIC0tIGdldCBjb2x1bW4gbmFtZQogICAgICBldmVudC5sb2dbY29sdW1uX25hbWVdID0gdmFsdWUgLS0gc2V0IHRoZSBjb3JyZXNwb25kaW5nIGZpZWxkIGluIHRoZSBldmVudAogICAgZW5kCgogICAgZW1pdChldmVudCkgLS0gZW1pdCB0aGUgdHJhbnNmb3JtZWQgZXZlbnQKICBlbmQKIiIiCmApKSxtZHgoInAiLG51bGwsYE5vdGUgdGhhdCB0aGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGNvbHVtbl9uYW1lc2ApLGAgY2FuIGJlIGNyZWF0ZWQganVzdCBvbmNlLCBpbiB0aGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHNvdXJjZWApLGAgc2VjdGlvbiBpbnN0ZWFkIHRvIHNwZWVkIHVwIHByb2Nlc3NpbmcuClB1dHRpbmcgaXQgdGhlcmUgYW5kIHVzaW5nIHRoZSBjb2x1bW4gbmFtZXMgZnJvbSB0aGUgUG9zdGdyZVNRTCBkb2N1bWVudGF0aW9uIHJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZyBkZWZpbml0aW9uIG9mCnRoZSB3aG9sZSB0cmFuc2Zvcm06YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0seyJjbGFzc05hbWUiOiJsYW5ndWFnZS10b21sIiwibWV0YXN0cmluZyI6InRpdGxlPVwidmVjdG9yLnRvbWxcIiIsInRpdGxlIjoiXCJ2ZWN0b3IudG9tbFwiIn0pLGAjIC4uLgpbdHJhbnNmb3Jtcy5sdWFdCiAgaW5wdXRzID0gWyJmaWxlIl0KICB0eXBlID0gImx1YSIKICB2ZXJzaW9uID0gIjIiCiAgc291cmNlID0gIiIiCiAgICBjc3YgPSByZXF1aXJlKCJjc3YiKSAtLSBsb2FkIGV4dGVybmFsIG1vZHVsZSBmb3IgcGFyc2luZyBDU1YKICAgIGNvbHVtbl9uYW1lcyA9IHsgIC0tIGEgc2VxdWVuY2UgY29udGFpbmluZyBDU1YgY29sdW1uIG5hbWVzCiAgICAgICJsb2dfdGltZSIsCiAgICAgICJ1c2VyX25hbWUiLAogICAgICAiZGF0YWJhc2VfbmFtZSIsCiAgICAgICJwcm9jZXNzX2lkIiwKICAgICAgImNvbm5lY3Rpb25fZnJvbSIsCiAgICAgICJzZXNzaW9uX2lkIiwKICAgICAgInNlc3Npb25fbGluZV9udW0iLAogICAgICAiY29tbWFuZF90YWciLAogICAgICAic2Vzc2lvbl9zdGFydF90aW1lIiwKICAgICAgInZpcnR1YWxfdHJhbnNhY3Rpb25faWQiLAogICAgICAidHJhbnNhY3Rpb25faWQiLAogICAgICAiZXJyb3Jfc2V2ZXJpdHkiLAogICAgICAic3FsX3N0YXRlX2NvZGUiLAogICAgICAibWVzc2FnZSIsCiAgICAgICJkZXRhaWwiLAogICAgICAiaGludCIsCiAgICAgICJpbnRlcm5hbF9xdWVyeSIsCiAgICAgICJpbnRlcm5hbF9xdWVyeV9wb3MiLAogICAgICAiY29udGV4dCIsCiAgICAgICJxdWVyeSIsCiAgICAgICJxdWVyeV9wb3MiLAogICAgICAibG9jYXRpb24iLAogICAgICAiYXBwbGljYXRpb25fbmFtZSIsCiAgICB9CiAgIiIiCiAgaG9va3MucHJvY2VzcyA9ICIiIgogICAgZnVuY3Rpb24gKGV2ZW50LCBlbWl0KQogICAgICBmaWVsZHMgPSBjc3Yub3BlbnN0cmluZyhldmVudC5sb2cubWVzc2FnZSk6bGluZXMoKSgpIC0tIHBhcnNlIHRoZSBcYG1lc3NhZ2VcYCBmaWVsZAogICAgICBldmVudC5sb2cubWVzc2FnZSA9IG5pbCAtLSBkcm9wIHRoZSBcYG1lc3NhZ2VcYCBmaWVsZAoKICAgICAgZm9yIGNvbHVtbiwgdmFsdWUgaW4gaXBhaXJzKGZpZWxkcykgZG8gLS0gaXRlcmF0ZSBvdmVyIENTViBjb2x1bW5zCiAgICAgICAgY29sdW1uX25hbWUgPSBjb2x1bW5fbmFtZXNbY29sdW1uXSAtLSBnZXQgY29sdW1uIG5hbWUKICAgICAgICBldmVudC5sb2dbY29sdW1uX25hbWVdID0gdmFsdWUgLS0gc2V0IHRoZSBjb3JyZXNwb25kaW5nIGZpZWxkIGluIHRoZSBldmVudAogICAgICBlbmQKCiAgICAgIGVtaXQoZXZlbnQpIC0tIGVtaXQgdGhlIHRyYW5zZm9ybWVkIGV2ZW50CiAgICBlbmQKICAgICIiIgojLi4uCmApKSxtZHgoInAiLG51bGwsYFRyeWluZyB0byBydW4gYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHZlY3RvciAtLWNvbmZpZyB2ZWN0b3IudG9tbGApLGAgd2l0aCB0aGUgc2FtZSBpbnB1dCBmaWxlIHJlc3VsdHMgaW4gc3RydWN0dXJlZCBldmVudHMgYmVpbmcgb3V0cHV0OmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHsiY2xhc3NOYW1lIjoibGFuZ3VhZ2UtanNvbiJ9KSxgeyJhcHBsaWNhdGlvbl9uYW1lIjoiIiwiY29tbWFuZF90YWciOiIiLCJjb25uZWN0aW9uX2Zyb20iOiIiLCJjb250ZXh0IjoiIiwiZGF0YWJhc2VfbmFtZSI6IiIsImRldGFpbCI6IiIsImVycm9yX3NldmVyaXR5IjoiTE9HIiwiZmlsZSI6ImxvZy5jc3YiLCJoaW50IjoiRnV0dXJlIGxvZyBvdXRwdXQgd2lsbCBnbyB0byBsb2cgZGVzdGluYXRpb24gXFwiY3N2bG9nXFwiLiIsImhvc3QiOiJsb2NhbGhvc3QiLCJpbnRlcm5hbF9xdWVyeSI6IiIsImludGVybmFsX3F1ZXJ5X3BvcyI6IiIsImxvY2F0aW9uIjoiIiwibG9nX3RpbWUiOiIyMDIwLTA0LTA5IDEyOjQ4OjQ5LjY2MSBVVEMiLCJtZXNzYWdlIjoiZW5kaW5nIGxvZyBvdXRwdXQgdG8gc3RkZXJyIiwicHJvY2Vzc19pZCI6IjEiLCJxdWVyeSI6IiIsInF1ZXJ5X3BvcyI6IiIsInNlc3Npb25faWQiOiJsb2NhbGhvc3QuMSIsInNlc3Npb25fbGluZV9udW0iOiIxIiwic2Vzc2lvbl9zdGFydF90aW1lIjoiMjAyMC0wNC0wOSAxMjo0ODo0OSBVVEMiLCJzcWxfc3RhdGVfY29kZSI6IjAwMDAwIiwidGltZXN0YW1wIjoiMjAyMC0wNC0wOVQxOTo0OTowN1oiLCJ0cmFuc2FjdGlvbl9pZCI6IjAiLCJ1c2VyX25hbWUiOiIiLCJ2aXJ0dWFsX3RyYW5zYWN0aW9uX2lkIjoiIn0KeyJhcHBsaWNhdGlvbl9uYW1lIjoiIiwiY29tbWFuZF90YWciOiIiLCJjb25uZWN0aW9uX2Zyb20iOiIiLCJjb250ZXh0IjoiIiwiZGF0YWJhc2VfbmFtZSI6IiIsImRldGFpbCI6IiIsImVycm9yX3NldmVyaXR5IjoiTE9HIiwiZmlsZSI6ImxvZy5jc3YiLCJoaW50IjoiIiwiaG9zdCI6ImxvY2FsaG9zdCIsImludGVybmFsX3F1ZXJ5IjoiIiwiaW50ZXJuYWxfcXVlcnlfcG9zIjoiIiwibG9jYXRpb24iOiIiLCJsb2dfdGltZSI6IjIwMjAtMDQtMDkgMTI6NDg6NDkuNjY5IFVUQyIsIm1lc3NhZ2UiOiJkYXRhYmFzZSBzeXN0ZW0gd2FzIHNodXQgZG93biBhdCAyMDIwLTA0LTA5IDEyOjQ4OjI1IFVUQyIsInByb2Nlc3NfaWQiOiIyNyIsInF1ZXJ5IjoiIiwicXVlcnlfcG9zIjoiIiwic2Vzc2lvbl9pZCI6ImxvY2FsaG9zdC4xYiIsInNlc3Npb25fbGluZV9udW0iOiIxIiwic2Vzc2lvbl9zdGFydF90aW1lIjoiMjAyMC0wNC0wOSAxMjo0ODo0OSBVVEMiLCJzcWxfc3RhdGVfY29kZSI6IjAwMDAwIiwidGltZXN0YW1wIjoiMjAyMC0wNC0wOVQxOTo0OTowN1oiLCJ0cmFuc2FjdGlvbl9pZCI6IjAiLCJ1c2VyX25hbWUiOiIiLCJ2aXJ0dWFsX3RyYW5zYWN0aW9uX2lkIjoiIn0KeyJhcHBsaWNhdGlvbl9uYW1lIjoiIiwiY29tbWFuZF90YWciOiIiLCJjb25uZWN0aW9uX2Zyb20iOiIiLCJjb250ZXh0IjoiIiwiZGF0YWJhc2VfbmFtZSI6IiIsImRldGFpbCI6IiIsImVycm9yX3NldmVyaXR5IjoiTE9HIiwiZmlsZSI6ImxvZy5jc3YiLCJoaW50IjoiIiwiaG9zdCI6ImxvY2FsaG9zdCIsImludGVybmFsX3F1ZXJ5IjoiIiwiaW50ZXJuYWxfcXVlcnlfcG9zIjoiIiwibG9jYXRpb24iOiIiLCJsb2dfdGltZSI6IjIwMjAtMDQtMDkgMTI6NDg6NDkuNjgzIFVUQyIsIm1lc3NhZ2UiOiJkYXRhYmFzZSBzeXN0ZW0gaXMgcmVhZHkgdG8gYWNjZXB0IGNvbm5lY3Rpb25zIiwicHJvY2Vzc19pZCI6IjEiLCJxdWVyeSI6IiIsInF1ZXJ5X3BvcyI6IiIsInNlc3Npb25faWQiOiJsb2NhbGhvc3QuMSIsInNlc3Npb25fbGluZV9udW0iOiIyIiwic2Vzc2lvbl9zdGFydF90aW1lIjoiMjAyMC0wNC0wOSAxMjo0ODo0OSBVVEMiLCJzcWxfc3RhdGVfY29kZSI6IjAwMDAwIiwidGltZXN0YW1wIjoiMjAyMC0wNC0wOVQxOTo0OTowN1oiLCJ0cmFuc2FjdGlvbl9pZCI6IjAiLCJ1c2VyX25hbWUiOiIiLCJ2aXJ0dWFsX3RyYW5zYWN0aW9uX2lkIjoiIn0KYCkpLG1keCgicCIsbnVsbCxgT3IsIGFwcGx5aW5nIHByZXR0eSBmb3JtYXR0aW5nIHRvIG9uZSBvZiB0aGUgb3V0cHV0IGV2ZW50czpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWpzb24ifSksYHsKICAiYXBwbGljYXRpb25fbmFtZSI6ICIiLAogICJjb21tYW5kX3RhZyI6ICIiLAogICJjb25uZWN0aW9uX2Zyb20iOiAiIiwKICAiY29udGV4dCI6ICIiLAogICJkYXRhYmFzZV9uYW1lIjogIiIsCiAgImRldGFpbCI6ICIiLAogICJlcnJvcl9zZXZlcml0eSI6ICJMT0ciLAogICJmaWxlIjogImxvZy5jc3YiLAogICJoaW50IjogIkZ1dHVyZSBsb2cgb3V0cHV0IHdpbGwgZ28gdG8gbG9nIGRlc3RpbmF0aW9uIFxcImNzdmxvZ1xcIi4iLAogICJob3N0IjogImxvY2FsaG9zdCIsCiAgImludGVybmFsX3F1ZXJ5IjogIiIsCiAgImludGVybmFsX3F1ZXJ5X3BvcyI6ICIiLAogICJsb2NhdGlvbiI6ICIiLAogICJsb2dfdGltZSI6ICIyMDIwLTA0LTA5IDEyOjQ4OjQ5LjY2MSBVVEMiLAogICJtZXNzYWdlIjogImVuZGluZyBsb2cgb3V0cHV0IHRvIHN0ZGVyciIsCiAgInByb2Nlc3NfaWQiOiAiMSIsCiAgInF1ZXJ5IjogIiIsCiAgInF1ZXJ5X3BvcyI6ICIiLAogICJzZXNzaW9uX2lkIjogImxvY2FsaG9zdC4xIiwKICAic2Vzc2lvbl9saW5lX251bSI6ICIxIiwKICAic2Vzc2lvbl9zdGFydF90aW1lIjogIjIwMjAtMDQtMDkgMTI6NDg6NDkgVVRDIiwKICAic3FsX3N0YXRlX2NvZGUiOiAiMDAwMDAiLAogICJ0aW1lc3RhbXAiOiAiMjAyMC0wNC0wOVQxOTo0OTowN1oiLAogICJ0cmFuc2FjdGlvbl9pZCI6ICIwIiwKICAidXNlcl9uYW1lIjogIiIsCiAgInZpcnR1YWxfdHJhbnNhY3Rpb25faWQiOiAiIgp9CmApKSxtZHgoImgyIix7ImlkIjoiZnVydGhlci1pbXByb3ZlbWVudHMifSxgRnVydGhlciBJbXByb3ZlbWVudHNgKSxtZHgoInAiLG51bGwsYEFmdGVyIHRoZSB0YXNrIG9mIHBhcnNpbmcgdGhlIENTViBsb2dzIGlzIGFjY29tcGxpc2hlZCwgdGhlIGZvbGxvd2luZyBpbXByb3ZlbWVudHMgY2FuIHRha2UgcGxhY2UuYCksbWR4KCJoMyIseyJpZCI6InN1cHBvcnQtZm9yLW11bHRpLWxpbmUtc3RyaW5ncyJ9LGBTdXBwb3J0IGZvciBNdWx0aS1saW5lIFN0cmluZ3NgKSxtZHgoInAiLG51bGwsYENTViBzdXBwb3J0cyBsaW5lIGJyZWFrcyBpbiBzdHJpbmdzLiBIb3dldmVyLCBieSBkZWZhdWx0IGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBmaWxlYCksYCBzb3VyY2UgY3JlYXRlcyBhIHNlcGFyYXRlIGV2ZW50IGZyb20gZWFjaCBsaW5lLmApLG1keCgicCIsbnVsbCxgVGhlcmUgYXJlIHR3byBvcHRpb25zIHRvIGRlYWwgd2l0aCB0aGlzOmApLG1keCgib2wiLG51bGwsbWR4KCJsaSIse3BhcmVudE5hbWU6Im9sIn0sYEZvciBzaW1wbGUgY2FzZXMgaXQgbWlnaHQgYmUgcG9zc2libGUgdG8gdXNlIHRoZSBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6ImxpIn0seyJocmVmIjoiL2RvY3MvcmVmZXJlbmNlL3NvdXJjZXMvZmlsZS8jbXVsdGlsaW5lIn0pLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6ImEifSxgbXVsdGlsaW5lYCkpLGAgY29uZmlndXJhdGlvbgpvcHRpb24gaW4gdGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToibGkifSxgZmlsZWApLGAgc291cmNlLmApLG1keCgibGkiLHtwYXJlbnROYW1lOiJvbCJ9LGBGb3IgbW9yZSBjb21wbGV4IGNhc2VzIHRoZSBtZXNzYWdlcyBmcm9tIG11bHRpcGxlIGV2ZW50cyBjYW4gYmUgY29uZGl0aW9uYWxseSBjb25jYXRlbmF0ZWQgaW4gdGhlIEx1YSBjb2RlLiBTZWUKYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJsaSJ9LHsiaHJlZiI6Ii9ndWlkZXMvYWR2YW5jZWQvY3VzdG9tLWFnZ3JlZ2F0aW9ucy13aXRoLWx1YS8ifSksYHRoZSBhZ2dyZWdhdGlvbnMgZ3VpZGVgKSxgIGZvciBtb3JlIGRldGFpbHMgb24gdGhpcy5gKSksbWR4KCJoMyIseyJpZCI6ImNoYW5nZS1maWVsZHMtdHlwZXMifSxgQ2hhbmdlIEZpZWxkcyBUeXBlc2ApLG1keCgicCIsbnVsbCxgQnkgZGVmYXVsdCwgYWxsIGNvbHVtbnMgYXJlIHBhcnNlZCBhcyBzdHJpbmdzLiBJdCBpcyBwb3NzaWJsZSB0byBjb252ZXJ0IHRoZW0gdG8gb3RoZXIKYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwIn0seyJocmVmIjoiL2RvY3MvcmVmZXJlbmNlL3RyYW5zZm9ybXMvbHVhLyNkYXRhLXR5cGVzIn0pLGBkYXRhIHR5cGVzYCksYCByaWdodCBpbiB0aGUgTHVhIGNvZGUgdXNpbmcKYnVpbHQtaW4gZnVuY3Rpb25zLCBzdWNoIGFzIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Imh0dHBzOi8vd3d3Lmx1YS5vcmcvbWFudWFsLzUuMy9tYW51YWwuaHRtbCNwZGYtdG9udW1iZXIifSksbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToiYSJ9LGB0b251bWJlcmApKSxgLiBBbHRlcm5hdGl2ZWx5LCBpdCBpcyBwb3NzaWJsZSB0byBhZGQgdGhlCmAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Ii9kb2NzL3JlZmVyZW5jZS90cmFuc2Zvcm1zL2NvZXJjZXIvIn0pLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6ImEifSxgY29lcmNlcmApKSxgIHRyYW5zZm9ybSBhZnRlciB0aGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGx1YWApLGAgdHJhbnNmb3JtLCBmb3IgZXhhbXBsZSwgdG8KYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwIn0seyJocmVmIjoiL2RvY3MvcmVmZXJlbmNlL3RyYW5zZm9ybXMvY29lcmNlci8jdGltZXN0YW1wcyJ9KSxgcGFyc2UgdGltZXN0YW1wc2ApLGAuYCkpO307TURYQ29udGVudC5pc01EWENvbXBvbmVudD10cnVlOw=="},{"version":3,"sources":["/Users/Yun/Desktop/vdocs/website/guides/advanced/1parsing-csv-logs-with-lua.md"],"names":["React","mdx","frontMatter","last_modified_on","$schema","title","description","author_github","tags","metadata","Assumptions","rightToc","value","id","children","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":"uGACE,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,eAApB,CAEA,MAAO,MAAMC,CAAAA,WAAW,CAAG,CAC5BC,gBAAgB,CAAE,YADU,CAE5BC,OAAO,CAAE,6BAFmB,CAG5BC,KAAK,CAAE,2BAHqB,CAI5BC,WAAW,CAAE,qEAJe,CAK5BC,aAAa,CAAE,4BALa,CAM5BC,IAAI,CAAE,CACL,aADK,CAEL,oBAFK,CAGL,gBAHK,CANsB,CAApB,CAYT,MAAO,MAAMC,CAAAA,QAAQ,CAAG,CACtB,aAAc,CACZ,CACE,OAAQ,UADV,CAEE,QAAS,UAFX,CAGE,cAAe,+EAHjB,CAIE,YAAa,kBAJf,CADY,CADQ,CAStB,aAAc,2BATQ,CAUtB,cAAe,qEAVO,CAWtB,YAAa,6CAXS,CAYtB,cAAe,YAZO,CAatB,SAAU,qDAbY,CActB,OAAQ,CACN,CACE,QAAS,aADX,CAEE,YAAa,yBAFf,CADM,CAKN,CACE,QAAS,oBADX,CAEE,YAAa,gCAFf,CALM,CASN,CACE,QAAS,gBADX,CAEE,YAAa,4BAFf,CATM,CAdc,CA4BtB,QAAS,2BA5Ba,CA6BtB,YAAa,KA7BS,CA8BtB,WAAY,CACV,QAAS,gCADC,CAEV,YAAa,gDAFH,CA9BU,CAkCtB,WAAY,CACV,QAAS,iBADC,CAEV,YAAa,kCAFH,CAlCU,CAAjB,CAuCL,cACF,MAAOC,CAAAA,WAAP,KAAwB,kCAAxB,CACA,MAAO,MAAMC,CAAAA,QAAQ,CAAG,CAAC,CACvBC,KAAK,CAAE,iBADgB,CAEvBC,EAAE,CAAE,iBAFmB,CAGvBC,QAAQ,CAAE,EAHa,CAAD,CAIrB,CACDF,KAAK,CAAE,uBADN,CAEDC,EAAE,CAAE,uBAFH,CAGDC,QAAQ,CAAE,EAHT,CAJqB,CAQrB,CACDF,KAAK,CAAE,6BADN,CAEDC,EAAE,CAAE,6BAFH,CAGDC,QAAQ,CAAE,EAHT,CARqB,CAYrB,CACDF,KAAK,CAAE,sBADN,CAEDC,EAAE,CAAE,sBAFH,CAGDC,QAAQ,CAAE,CAAC,CACTF,KAAK,CAAE,gCADE,CAETC,EAAE,CAAE,gCAFK,CAGTC,QAAQ,CAAE,EAHD,CAAD,CAIP,CACDF,KAAK,CAAE,qBADN,CAEDC,EAAE,CAAE,qBAFH,CAGDC,QAAQ,CAAE,EAHT,CAJO,CAHT,CAZqB,CAAjB,CAyBP,KAAMC,CAAAA,aAAa,CAAGC,IAAI,EAAI,QAASC,CAAAA,mBAAT,CAA6BC,KAA7B,CAAoC,CAChEC,OAAO,CAACC,IAAR,CAAa,aAAeJ,IAAf,CAAsB,yEAAnC,EACA,MAAO,WAASE,KAAT,CAAP,CACD,CAHD,CAKA,KAAMG,CAAAA,WAAW,CAAG,CAClBV,QADkB,CAApB,CAGA,KAAMW,CAAAA,SAAS,CAAG,SAAlB,CACA,cAAe,SAASC,CAAAA,UAAT,CAAoB,CACjCC,UADiC,CAEjC,GAAGN,KAF8B,CAApB,CAGZ,CACD,MAAO,KAAC,SAAD,aAAeG,WAAf,CAAgCH,KAAhC,EAAuC,UAAU,CAAEM,UAAnD,CAA+D,OAAO,CAAC,WAAvE,GAGL,IAAC,WAAD,EAAa,OAAO,CAAC,aAArB,EACE,cACE,UAAI,UAAU,CAAC,IAAf,EAAsB,qBAAtB,CAA2C,kBAAG,UAAU,CAAC,IAAd,EAAuB,CAC9D,OAAQ,iCADsD,CAAvB,EAEpC,oBAFoC,CAA3C,CAEiC,GAFjC,CADF,CAIE,UAAI,UAAU,CAAC,IAAf,EAAsB,qBAAtB,CAA2C,kBAAG,UAAU,CAAC,IAAd,EAAuB,CAC9D,OAAQ,uBADsD,CAAvB,EAEpC,uBAFoC,CAA3C,CAEoC,kBAFpC,CAEsD,kBAAG,UAAU,CAAC,IAAd,EAAuB,CACzE,OAAQ,8CADiE,CAAvB,EAE/C,0BAF+C,CAFtD,CAIuC,GAJvC,CAJF,CADF,CAHK,CAeL,aAAK,2BAAL,CAAgC,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAClD,OAAQ,qCAD0C,CAAtB,EAEzB,SAFyB,CAAhC,CAEsB;kDAFtB,CAG+C,kBAAG,UAAU,CAAC,GAAd,EAAsB,CACjE,OAAQ,uCADyD,CAAtB,EAExC,yBAFwC,CAH/C,CAKsC;SALtC,CAfK,CAsBL,aAAK,kDAAL,CAAuD,kBAAG,UAAU,CAAC,GAAd,EAAsB,CACzE,OAAQ,+BADiE,CAAtB,EAElD,kBAAY,UAAU,CAAC,GAAvB,EAA6B,MAA7B,CAFkD,CAAvD,CAE2D;CAF3D,CAGF,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAChB,OAAQ,iCADQ,CAAtB,EAEO,kBAAY,UAAU,CAAC,GAAvB,EAA6B,KAA7B,CAFP,CAHE,CAK0D,wCAL1D,CAtBK,CAmCL,SAAQ,CACN,KAAM,iBADA,CAAR,CAEK,iBAFL,CAnCK,CAsCL,aAAK;CAAL,CACF,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAChB,OAAQ,mGADQ,CAAtB,EAEO,kBAAY,UAAU,CAAC,GAAvB,EAA6B,QAA7B,CAFP,CADE,CAG6D;UAH7D,CAtCK,CA2CL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,cADe,CAE5B,aAAc,mBAFc,CAG5B,QAAS,aAHmB,CAA3B,EAIE;;;CAJF,CAAL,CA3CK,CAmDL,aAAK,qEAAL,CAnDK,CAoDL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,eADe,CAE5B,aAAc,uBAFc,CAG5B,QAAS,iBAHmB,CAA3B,EAIE;;;;;;;;;;;;;;;;;;;;;;CAJF,CAAL,CApDK,CA+EL,aAAK,wBAAL,CAA6B,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAC/C,OAAQ,+BADuC,CAAtB,EAEtB,UAFsB,CAA7B,CAEuB;;CAFvB,CAIF,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAChB,OAAQ,gCADQ,CAAtB,EAEO,kBAAY,UAAU,CAAC,GAAvB,EAA6B,SAA7B,CAFP,CAJE,CAM8D,QAN9D,CA/EK,CAsFL,aAAK,yBAAL,CAA8B,kBAAY,UAAU,CAAC,GAAvB,EAA6B,6BAA7B,CAA9B,CAAuG,mCAAvG,CAtFK,CAuFL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,eADe,CAA3B,EAEE;;;CAFF,CAAL,CAvFK,CA6FL,SAAQ,CACN,KAAM,uBADA,CAAR,CAEK,uBAFL,CA7FK,CAgGL,aAAK,iEAAL,CAAsE,kBAAG,UAAU,CAAC,GAAd,EAAsB,CACxF,OAAQ,yCADgF,CAAtB,EAEjE,kBAAY,UAAU,CAAC,GAAvB,EAA6B,SAA7B,CAFiE,CAAtE,CAE8D;0BAF9D,CAGuB,kBAAG,UAAU,CAAC,GAAd,EAAsB,CACzC,OAAQ,mGADiC,CAAtB,EAEhB,aAFgB,CAHvB,CAK0B;iBAL1B,CAMc,kBAAY,UAAU,CAAC,GAAvB,EAA6B,aAA7B,CANd,CAMuE,aANvE,CAhGK,CAuGL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,eADe,CAA3B,EAEE;CAFF,CAAL,CAvGK,CA2GL,aAAK,kDAAL,CAAuD,kBAAG,UAAU,CAAC,GAAd,EAAsB,CACzE,OAAQ,wDADiE,CAAtB,EAElD,kBAAY,UAAU,CAAC,GAAvB,EAA6B,SAA7B,CAFkD,CAAvD,CAE8D;CAF9D,CAGF,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAChB,OAAQ,wCADQ,CAAtB,EAEO,kBAAY,UAAU,CAAC,GAAvB,EAA6B,QAA7B,CAFP,CAHE,CAK6D,yBAL7D,CA3GK,CAiHL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,eADe,CAA3B,EAEE;;;CAFF,CAAL,CAjHK,CAuHL,aAAK,YAAL,CAAiB,kBAAY,UAAU,CAAC,GAAvB,EAA6B,QAA7B,CAAjB,CAAqE,OAArE,CAA4E,kBAAY,UAAU,CAAC,GAAvB,EAA6B,KAA7B,CAA5E,CAA6H,yDAA7H,CAAsL,kBAAY,UAAU,CAAC,GAAvB,EAA6B,KAA7B,CAAtL,CAAuO;WAAvO,CACQ,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAC1B,OAAQ,sEADkB,CAAtB,EAED,wBAFC,CADR,CAGqC;qCAHrC,CAIkC,kBAAY,UAAU,CAAC,GAAvB,EAA6B,KAA7B,CAJlC,CAImF,GAJnF,CAvHK,CA4HL,SAAQ,CACN,KAAM,6BADA,CAAR,CAEK,6BAFL,CA5HK,CA+HL,aAAK,WAAL,CAAgB,kBAAY,UAAU,CAAC,GAAvB,EAA6B,KAA7B,CAAhB,CAAiE,eAAjE,CAAgF,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAClG,OAAQ,yCAD0F,CAAtB,EAE3E,kBAAY,UAAU,CAAC,GAAvB,EAA6B,eAA7B,CAF2E,CAAhF,CAEoE,mCAFpE,CA/HK,CAkIL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,eADe,CAA3B,EAEE;;;;;;;;;;;;;;;;;CAFF,CAAL,CAlIK,CAsJL,aAAK,gBAAL,CAAqB,kBAAY,UAAU,CAAC,GAAvB,EAA6B,cAA7B,CAArB,CAA+E,oCAA/E,CAAmH,kBAAY,UAAU,CAAC,GAAvB,EAA6B,QAA7B,CAAnH,CAAuK;;qBAAvK,CAtJK,CAyJL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,eADe,CAE5B,aAAc,uBAFc,CAG5B,QAAS,iBAHmB,CAA3B,EAIE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAJF,CAAL,CAzJK,CA6ML,aAAK,gBAAL,CAAqB,kBAAY,UAAU,CAAC,GAAvB,EAA6B,6BAA7B,CAArB,CAA8F,sEAA9F,CA7MK,CA8ML,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,eADe,CAA3B,EAEE;;;CAFF,CAAL,CA9MK,CAoNL,aAAK,6DAAL,CApNK,CAqNL,eAAK,qBAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,eADe,CAA3B,EAEE;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAFF,CAAL,CArNK,CAoPL,SAAQ,CACN,KAAM,sBADA,CAAR,CAEK,sBAFL,CApPK,CAuPL,aAAK,oGAAL,CAvPK,CAwPL,SAAQ,CACN,KAAM,gCADA,CAAR,CAEK,gCAFL,CAxPK,CA2PL,aAAK,2DAAL,CAAgE,kBAAY,UAAU,CAAC,GAAvB,EAA6B,MAA7B,CAAhE,CAAkH,kDAAlH,CA3PK,CA4PL,aAAK,0CAAL,CA5PK,CA6PL,cACE,UAAI,UAAU,CAAC,IAAf,EAAsB,mDAAtB,CAAyE,kBAAG,UAAU,CAAC,IAAd,EAAuB,CAC5F,OAAQ,yCADoF,CAAvB,EAEpE,kBAAY,UAAU,CAAC,GAAvB,EAA6B,WAA7B,CAFoE,CAAzE,CAEgE;eAFhE,CAGU,kBAAY,UAAU,CAAC,IAAvB,EAA8B,MAA9B,CAHV,CAG6D,UAH7D,CADF,CAKE,UAAI,UAAU,CAAC,IAAf,EAAsB;CAAtB,CACJ,kBAAG,UAAU,CAAC,IAAd,EAAuB,CACf,OAAQ,gDADO,CAAvB,EAEW,wBAFX,CADI,CAGqC,4BAHrC,CALF,CA7PK,CAuQL,SAAQ,CACN,KAAM,qBADA,CAAR,CAEK,qBAFL,CAvQK,CA0QL,aAAK;CAAL,CACF,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAChB,OAAQ,4CADQ,CAAtB,EAES,YAFT,CADE,CAGyB;6BAHzB,CAI0B,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAC5C,OAAQ,yDADoC,CAAtB,EAErB,kBAAY,UAAU,CAAC,GAAvB,EAA6B,UAA7B,CAFqB,CAJ1B,CAM+D;CAN/D,CAOF,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAChB,OAAQ,qCADQ,CAAtB,EAEO,kBAAY,UAAU,CAAC,GAAvB,EAA6B,SAA7B,CAFP,CAPE,CAS8D,uBAT9D,CASqF,kBAAY,UAAU,CAAC,GAAvB,EAA6B,KAA7B,CATrF,CASsI;CATtI,CAUF,kBAAG,UAAU,CAAC,GAAd,EAAsB,CAChB,OAAQ,gDADQ,CAAtB,EAES,kBAFT,CAVE,CAY+B,GAZ/B,CA1QK,CAAP,CAwRD,CAED,CACAD,UAAU,CAACE,cAAX,CAA4B,IAA5B","sourcesContent":["\n  import React from 'react';\n  import { mdx } from '@mdx-js/react';\n\n  export const frontMatter = {\n\tlast_modified_on: '2020-07-13',\n\t$schema: '/.meta/.schemas/guides.json',\n\ttitle: 'Parsing CSV logs with Lua',\n\tdescription: 'Parse structured application logs in CSV format using Lua transform',\n\tauthor_github: 'https://github.com/a-rodin',\n\ttags: [\n\t\t'type: guide',\n\t\t'domain: transforms',\n\t\t'transform: lua'\n\t]\n};\nexport const metadata = {\n  \"categories\": [\n    {\n      \"name\": \"advanced\",\n      \"title\": \"Advanced\",\n      \"description\": \"Go the basics, become a Vector pro, and extract the full potential of Vector.\",\n      \"permalink\": \"/guides/advanced\"\n    }\n  ],\n  \"coverLabel\": \"Parsing CSV logs with Lua\",\n  \"description\": \"Parse structured application logs in CSV format using Lua transform\",\n  \"permalink\": \"/guides/advanced/1parsing-csv-logs-with-lua\",\n  \"readingTime\": \"6 min read\",\n  \"source\": \"@site/guides/advanced/1parsing-csv-logs-with-lua.md\",\n  \"tags\": [\n    {\n      \"label\": \"type: guide\",\n      \"permalink\": \"/guides/tags/type-guide\"\n    },\n    {\n      \"label\": \"domain: transforms\",\n      \"permalink\": \"/guides/tags/domain-transforms\"\n    },\n    {\n      \"label\": \"transform: lua\",\n      \"permalink\": \"/guides/tags/transform-lua\"\n    }\n  ],\n  \"title\": \"Parsing CSV logs with Lua\",\n  \"truncated\": false,\n  \"prevItem\": {\n    \"title\": \"Merge multi-line logs with Lua\",\n    \"permalink\": \"/guides/advanced/merge-multiline-logs-with-lua\"\n  },\n  \"nextItem\": {\n    \"title\": \"Troubleshooting\",\n    \"permalink\": \"/guides/advanced/troubleshooting\"\n  }\n};\n  /* @jsx mdx */\nimport Assumptions from '@site/src/components/Assumptions';\nexport const rightToc = [{\n  value: 'Getting Started',\n  id: 'getting-started',\n  children: []\n}, {\n  value: 'Adding the CSV Module',\n  id: 'adding-the-csv-module',\n  children: []\n}, {\n  value: 'Implementing Custom Parsing',\n  id: 'implementing-custom-parsing',\n  children: []\n}, {\n  value: 'Further Improvements',\n  id: 'further-improvements',\n  children: [{\n    value: 'Support for Multi-line Strings',\n    id: 'support-for-multi-line-strings',\n    children: []\n  }, {\n    value: 'Change Fields Types',\n    id: 'change-fields-types',\n    children: []\n  }]\n}];\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  rightToc\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <Assumptions mdxType=\"Assumptions\">\n      <ul>\n        <li parentName=\"ul\">{`You understand the `}<a parentName=\"li\" {...{\n            \"href\": \"/docs/reference/transforms/lua/\"\n          }}>{`basic Lua concepts`}</a>{`.`}</li>\n        <li parentName=\"ul\">{`You understand the `}<a parentName=\"li\" {...{\n            \"href\": \"/docs/about/concepts/\"\n          }}>{`basic Vector concepts`}</a>{` and understand `}<a parentName=\"li\" {...{\n            \"href\": \"/guides/getting-started/your-first-pipeline/\"\n          }}>{`how to set up a pipeline`}</a>{`.`}</li>\n      </ul>\n    </Assumptions>\n    <p>{`Vector has many built-in `}<a parentName=\"p\" {...{\n        \"href\": \"/components/?functions%5B%5D=parse/\"\n      }}>{`parsers`}</a>{` for structured logs formats. However, when you need to ship\nlogs in a custom or application-specific format, `}<a parentName=\"p\" {...{\n        \"href\": \"/components/?functions%5B%5D=program/\"\n      }}>{`programmable transforms`}</a>{` have got you\ncovered.`}</p>\n    <p>{`This guide walks through reading CSV logs using `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/sources/file/\"\n      }}><inlineCode parentName=\"a\">{`file`}</inlineCode></a>{` source and parsing them using\n`}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/lua/\"\n      }}><inlineCode parentName=\"a\">{`lua`}</inlineCode></a>{` transform with a loadable Lua module.`}</p>\n    {\n      /*\n          THIS FILE IS AUTOGENERATED!\n           To make changes please edit the template located at:\n           website/guides/advanced/parsing-csv-logs-with-lua.md.erb\n      */\n    }\n    <h2 {...{\n      \"id\": \"getting-started\"\n    }}>{`Getting Started`}</h2>\n    <p>{`For certainty, it is assumed in the following that the logs to be read are produced by\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://www.postgresql.org/docs/current/runtime-config-logging.html#RUNTIME-CONFIG-LOGGING-CSVLOG\"\n      }}><inlineCode parentName=\"a\">{`csvlog`}</inlineCode></a>{` in PostgreSQL. For example, there might be the following\nlog file:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-csv\",\n        \"metastring\": \"title=\\\"log.csv\\\"\",\n        \"title\": \"\\\"log.csv\\\"\"\n      }}>{`2020-04-09 12:48:49.661 UTC,,,1,,localhost.1,1,,2020-04-09 12:48:49 UTC,,0,LOG,00000,\"ending log output to stderr\",,\"Future log output will go to log destination \"\"csvlog\"\".\",,,,,,,\"\"\n2020-04-09 12:48:49.669 UTC,,,27,,localhost.1b,1,,2020-04-09 12:48:49 UTC,,0,LOG,00000,\"database system was shut down at 2020-04-09 12:48:25 UTC\",,,,,,,,,\"\"\n2020-04-09 12:48:49.683 UTC,,,1,,localhost.1,2,,2020-04-09 12:48:49 UTC,,0,LOG,00000,\"database system is ready to accept connections\",,,,,,,,,\"\"\n`}</code></pre>\n    <p>{`Let us draft an initial version of the Vector's configuration file:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\",\n        \"metastring\": \"title=\\\"vector.toml\\\"\",\n        \"title\": \"\\\"vector.toml\\\"\"\n      }}>{`data_dir = \".\"\n\n[sources.file]\n  type = \"file\"\n  include = [\"*.csv\"]\n  start_at_beginning = true\n\n[transforms.lua]\n  inputs = [\"file\"]\n  type = \"lua\"\n  version = \"2\"\n  hooks.process = \"\"\"\n    function (event, emit)\n      -- to be expanded\n      emit(event)\n    end\n  \"\"\"\n\n[sinks.console]\n  inputs = [\"lua\"]\n  type = \"console\"\n  encoding = \"json\"\n`}</code></pre>\n    <p>{`This config sets up a `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/meta/glossary/#pipeline\"\n      }}>{`pipeline`}</a>{` that reads log files, pipes them through the parsing\ntransform (which currently is configured to just pass the events through), and displays the produced log events using\n`}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/sinks/console/\"\n      }}><inlineCode parentName=\"a\">{`console`}</inlineCode></a>{` sink.`}</p>\n    <p>{`At this point, running `}<inlineCode parentName=\"p\">{`vector --config vector.toml`}</inlineCode>{` results in the following output:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\"file\":\"log.csv\",\"host\":\"localhost\",\"message\":\"2020-04-09 12:48:49.661 UTC,,,1,,localhost.1,1,,2020-04-09 12:48:49 UTC,,0,LOG,00000,\\\\\"ending log output to stderr\\\\\",,\\\\\"Future log output will go to log destination \\\\\"\\\\\"csvlog\\\\\"\\\\\".\\\\\",,,,,,,\\\\\"\\\\\"\",\"timestamp\":\"2020-04-09T14:33:28Z\"}\n{\"file\":\"log.csv\",\"host\":\"localhost\",\"message\":\"2020-04-09 12:48:49.669 UTC,,,27,,localhost.1b,1,,2020-04-09 12:48:49 UTC,,0,LOG,00000,\\\\\"database system was shut down at 2020-04-09 12:48:25 UTC\\\\\",,,,,,,,,\\\\\"\\\\\"\",\"timestamp\":\"2020-04-09T14:33:28Z\"}\n{\"file\":\"log.csv\",\"host\":\"localhost\",\"message\":\"2020-04-09 12:48:49.683 UTC,,,1,,localhost.1,2,,2020-04-09 12:48:49 UTC,,0,LOG,00000,\\\\\"database system is ready to accept connections\\\\\",,,,,,,,,\\\\\"\\\\\"\",\"timestamp\":\"2020-04-09T14:33:28Z\"}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"adding-the-csv-module\"\n    }}>{`Adding the CSV Module`}</h2>\n    <p>{`In order to perform actual parsing, it is possible to leverage `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/geoffleyland/lua-csv\"\n      }}><inlineCode parentName=\"a\">{`lua-csv`}</inlineCode></a>{`.\nBecause it consists of a `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/geoffleyland/lua-csv/blob/09557e4608b02d136b9ae39a8fa0f36328fa1cec/lua/csv.lua\"\n      }}>{`single file`}</a>{`, it is possible to just download it to the same\ndirectory where `}<inlineCode parentName=\"p\">{`vector.toml`}</inlineCode>{` is stored:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`curl -o csv.lua https://raw.githubusercontent.com/geoffleyland/lua-csv/d20cd42d61dc52e7f6bcb13b596ac7a7d4282fbf/lua/csv.lua\n`}</code></pre>\n    <p>{`Then it would be possible to load it by calling `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.lua.org/manual/5.3/manual.html#pdf-require\"\n      }}><inlineCode parentName=\"a\">{`require`}</inlineCode></a>{` Lua function in the\n`}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/lua/#source\"\n      }}><inlineCode parentName=\"a\">{`source`}</inlineCode></a>{` configuration section:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\"\n      }}>{`source = \"\"\"\n  csv = require(\"csv\")\n\"\"\"\n`}</code></pre>\n    <p>{`With this `}<inlineCode parentName=\"p\">{`source`}</inlineCode>{` the `}<inlineCode parentName=\"p\">{`csv`}</inlineCode>{` module is loaded when Vector is started up (or if the `}<inlineCode parentName=\"p\">{`lua`}</inlineCode>{` transform is added later and the\nconfig is `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/administration/process-management/#automatic-reload-on-changes\"\n      }}>{`automatically reloaded`}</a>{`) and can\nbe used through the global variable `}<inlineCode parentName=\"p\">{`csv`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"implementing-custom-parsing\"\n    }}>{`Implementing Custom Parsing`}</h2>\n    <p>{`With the `}<inlineCode parentName=\"p\">{`csv`}</inlineCode>{` module, the `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/lua/#process\"\n      }}><inlineCode parentName=\"a\">{`hooks.process`}</inlineCode></a>{` can be changed to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\"\n      }}>{`hooks.process = \"\"\"\n  function (event, emit)\n    fields = csv.openstring(event.log.message):lines()() -- parse the \\`message\\` field\n    event.log.message = nil -- drop the \\`message\\` field\n\n    column_names = {  -- a sequence containing CSV column names\n      -- ...\n    }\n\n    for column, value in ipairs(fields) do -- iterate over CSV columns\n      column_name = column_names[column] -- get column name\n      event.log[column_name] = value -- set the corresponding field in the event\n    end\n\n    emit(event) -- emit the transformed event\n  end\n\"\"\"\n`}</code></pre>\n    <p>{`Note that the `}<inlineCode parentName=\"p\">{`column_names`}</inlineCode>{` can be created just once, in the `}<inlineCode parentName=\"p\">{`source`}</inlineCode>{` section instead to speed up processing.\nPutting it there and using the column names from the PostgreSQL documentation results in the following definition of\nthe whole transform:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\",\n        \"metastring\": \"title=\\\"vector.toml\\\"\",\n        \"title\": \"\\\"vector.toml\\\"\"\n      }}>{`# ...\n[transforms.lua]\n  inputs = [\"file\"]\n  type = \"lua\"\n  version = \"2\"\n  source = \"\"\"\n    csv = require(\"csv\") -- load external module for parsing CSV\n    column_names = {  -- a sequence containing CSV column names\n      \"log_time\",\n      \"user_name\",\n      \"database_name\",\n      \"process_id\",\n      \"connection_from\",\n      \"session_id\",\n      \"session_line_num\",\n      \"command_tag\",\n      \"session_start_time\",\n      \"virtual_transaction_id\",\n      \"transaction_id\",\n      \"error_severity\",\n      \"sql_state_code\",\n      \"message\",\n      \"detail\",\n      \"hint\",\n      \"internal_query\",\n      \"internal_query_pos\",\n      \"context\",\n      \"query\",\n      \"query_pos\",\n      \"location\",\n      \"application_name\",\n    }\n  \"\"\"\n  hooks.process = \"\"\"\n    function (event, emit)\n      fields = csv.openstring(event.log.message):lines()() -- parse the \\`message\\` field\n      event.log.message = nil -- drop the \\`message\\` field\n\n      for column, value in ipairs(fields) do -- iterate over CSV columns\n        column_name = column_names[column] -- get column name\n        event.log[column_name] = value -- set the corresponding field in the event\n      end\n\n      emit(event) -- emit the transformed event\n    end\n    \"\"\"\n#...\n`}</code></pre>\n    <p>{`Trying to run `}<inlineCode parentName=\"p\">{`vector --config vector.toml`}</inlineCode>{` with the same input file results in structured events being output:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\"application_name\":\"\",\"command_tag\":\"\",\"connection_from\":\"\",\"context\":\"\",\"database_name\":\"\",\"detail\":\"\",\"error_severity\":\"LOG\",\"file\":\"log.csv\",\"hint\":\"Future log output will go to log destination \\\\\"csvlog\\\\\".\",\"host\":\"localhost\",\"internal_query\":\"\",\"internal_query_pos\":\"\",\"location\":\"\",\"log_time\":\"2020-04-09 12:48:49.661 UTC\",\"message\":\"ending log output to stderr\",\"process_id\":\"1\",\"query\":\"\",\"query_pos\":\"\",\"session_id\":\"localhost.1\",\"session_line_num\":\"1\",\"session_start_time\":\"2020-04-09 12:48:49 UTC\",\"sql_state_code\":\"00000\",\"timestamp\":\"2020-04-09T19:49:07Z\",\"transaction_id\":\"0\",\"user_name\":\"\",\"virtual_transaction_id\":\"\"}\n{\"application_name\":\"\",\"command_tag\":\"\",\"connection_from\":\"\",\"context\":\"\",\"database_name\":\"\",\"detail\":\"\",\"error_severity\":\"LOG\",\"file\":\"log.csv\",\"hint\":\"\",\"host\":\"localhost\",\"internal_query\":\"\",\"internal_query_pos\":\"\",\"location\":\"\",\"log_time\":\"2020-04-09 12:48:49.669 UTC\",\"message\":\"database system was shut down at 2020-04-09 12:48:25 UTC\",\"process_id\":\"27\",\"query\":\"\",\"query_pos\":\"\",\"session_id\":\"localhost.1b\",\"session_line_num\":\"1\",\"session_start_time\":\"2020-04-09 12:48:49 UTC\",\"sql_state_code\":\"00000\",\"timestamp\":\"2020-04-09T19:49:07Z\",\"transaction_id\":\"0\",\"user_name\":\"\",\"virtual_transaction_id\":\"\"}\n{\"application_name\":\"\",\"command_tag\":\"\",\"connection_from\":\"\",\"context\":\"\",\"database_name\":\"\",\"detail\":\"\",\"error_severity\":\"LOG\",\"file\":\"log.csv\",\"hint\":\"\",\"host\":\"localhost\",\"internal_query\":\"\",\"internal_query_pos\":\"\",\"location\":\"\",\"log_time\":\"2020-04-09 12:48:49.683 UTC\",\"message\":\"database system is ready to accept connections\",\"process_id\":\"1\",\"query\":\"\",\"query_pos\":\"\",\"session_id\":\"localhost.1\",\"session_line_num\":\"2\",\"session_start_time\":\"2020-04-09 12:48:49 UTC\",\"sql_state_code\":\"00000\",\"timestamp\":\"2020-04-09T19:49:07Z\",\"transaction_id\":\"0\",\"user_name\":\"\",\"virtual_transaction_id\":\"\"}\n`}</code></pre>\n    <p>{`Or, applying pretty formatting to one of the output events:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"application_name\": \"\",\n  \"command_tag\": \"\",\n  \"connection_from\": \"\",\n  \"context\": \"\",\n  \"database_name\": \"\",\n  \"detail\": \"\",\n  \"error_severity\": \"LOG\",\n  \"file\": \"log.csv\",\n  \"hint\": \"Future log output will go to log destination \\\\\"csvlog\\\\\".\",\n  \"host\": \"localhost\",\n  \"internal_query\": \"\",\n  \"internal_query_pos\": \"\",\n  \"location\": \"\",\n  \"log_time\": \"2020-04-09 12:48:49.661 UTC\",\n  \"message\": \"ending log output to stderr\",\n  \"process_id\": \"1\",\n  \"query\": \"\",\n  \"query_pos\": \"\",\n  \"session_id\": \"localhost.1\",\n  \"session_line_num\": \"1\",\n  \"session_start_time\": \"2020-04-09 12:48:49 UTC\",\n  \"sql_state_code\": \"00000\",\n  \"timestamp\": \"2020-04-09T19:49:07Z\",\n  \"transaction_id\": \"0\",\n  \"user_name\": \"\",\n  \"virtual_transaction_id\": \"\"\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"further-improvements\"\n    }}>{`Further Improvements`}</h2>\n    <p>{`After the task of parsing the CSV logs is accomplished, the following improvements can take place.`}</p>\n    <h3 {...{\n      \"id\": \"support-for-multi-line-strings\"\n    }}>{`Support for Multi-line Strings`}</h3>\n    <p>{`CSV supports line breaks in strings. However, by default `}<inlineCode parentName=\"p\">{`file`}</inlineCode>{` source creates a separate event from each line.`}</p>\n    <p>{`There are two options to deal with this:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`For simple cases it might be possible to use the `}<a parentName=\"li\" {...{\n          \"href\": \"/docs/reference/sources/file/#multiline\"\n        }}><inlineCode parentName=\"a\">{`multiline`}</inlineCode></a>{` configuration\noption in the `}<inlineCode parentName=\"li\">{`file`}</inlineCode>{` source.`}</li>\n      <li parentName=\"ol\">{`For more complex cases the messages from multiple events can be conditionally concatenated in the Lua code. See\n`}<a parentName=\"li\" {...{\n          \"href\": \"/guides/advanced/custom-aggregations-with-lua/\"\n        }}>{`the aggregations guide`}</a>{` for more details on this.`}</li>\n    </ol>\n    <h3 {...{\n      \"id\": \"change-fields-types\"\n    }}>{`Change Fields Types`}</h3>\n    <p>{`By default, all columns are parsed as strings. It is possible to convert them to other\n`}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/lua/#data-types\"\n      }}>{`data types`}</a>{` right in the Lua code using\nbuilt-in functions, such as `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.lua.org/manual/5.3/manual.html#pdf-tonumber\"\n      }}><inlineCode parentName=\"a\">{`tonumber`}</inlineCode></a>{`. Alternatively, it is possible to add the\n`}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/coercer/\"\n      }}><inlineCode parentName=\"a\">{`coercer`}</inlineCode></a>{` transform after the `}<inlineCode parentName=\"p\">{`lua`}</inlineCode>{` transform, for example, to\n`}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/coercer/#timestamps\"\n      }}>{`parse timestamps`}</a>{`.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n  "]}]}