{"remainingRequest":"/Users/Yun/vector/website/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/Yun/vector/website/src/exports/newHighlight.js","dependencies":[{"path":"/Users/Yun/vector/website/src/exports/newHighlight.js","mtime":1594780808782},{"path":"/Users/Yun/vector/website/node_modules/cache-loader/dist/cjs.js","mtime":1588759099254},{"path":"/Users/Yun/vector/website/node_modules/babel-loader/lib/index.js","mtime":1588759098876}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHVzZURvY3VzYXVydXNDb250ZXh0IGZyb20nQGRvY3VzYXVydXMvdXNlRG9jdXNhdXJ1c0NvbnRleHQnO2V4cG9ydCBmdW5jdGlvbiBmZXRjaE5ld0hpZ2hsaWdodCgpe2NvbnN0IGNvbnRleHQ9dXNlRG9jdXNhdXJ1c0NvbnRleHQoKTtjb25zdHtzaXRlQ29uZmlnPXt9fT1jb250ZXh0O2NvbnN0e21ldGFkYXRhOntsYXRlc3RfaGlnaGxpZ2h0OmxhdGVzdEhpZ2hsaWdodH19PXNpdGVDb25maWcuY3VzdG9tRmllbGRzO2NvbnN0IGRhdGU9RGF0ZS5wYXJzZShsYXRlc3RIaWdobGlnaHQuZGF0ZSk7Y29uc3Qgbm93PW5ldyBEYXRlKCk7Y29uc3QgZGlmZlRpbWU9TWF0aC5hYnMobm93LWRhdGUpO2NvbnN0IGRpZmZEYXlzPU1hdGguY2VpbChkaWZmVGltZS8oMTAwMCo2MCo2MCoyNCkpO2xldCB2aWV3ZWRBdD1udWxsO2lmKHR5cGVvZiB3aW5kb3chPT0ndW5kZWZpbmVkJyl7dmlld2VkQXQ9bmV3IERhdGUocGFyc2VJbnQod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdoaWdobGlnaHRzVmlld2VkQXQnKXx8JzAnKSk7fWlmKGRpZmZEYXlzPDMwJiYoIXZpZXdlZEF0fHx2aWV3ZWRBdDxkYXRlKSl7cmV0dXJuIGxhdGVzdEhpZ2hsaWdodDt9cmV0dXJuIG51bGw7fWV4cG9ydCBmdW5jdGlvbiB2aWV3ZWROZXdIaWdobGlnaHQoKXtpZih0eXBlb2Ygd2luZG93IT09J3VuZGVmaW5lZCcpe3dpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGlnaGxpZ2h0c1ZpZXdlZEF0JyxuZXcgRGF0ZSgpLmdldFRpbWUoKSk7fX1leHBvcnQgZGVmYXVsdHtmZXRjaE5ld0hpZ2hsaWdodCx2aWV3ZWROZXdIaWdobGlnaHR9Ow=="},{"version":3,"sources":["/Users/Yun/vector/website/src/exports/newHighlight.js"],"names":["useDocusaurusContext","fetchNewHighlight","context","siteConfig","metadata","latest_highlight","latestHighlight","customFields","date","Date","parse","now","diffTime","Math","abs","diffDays","ceil","viewedAt","window","parseInt","localStorage","getItem","viewedNewHighlight","setItem","getTime"],"mappings":"AAAA,MAAOA,CAAAA,oBAAP,KAAiC,kCAAjC,CAEA,MAAO,SAASC,CAAAA,iBAAT,EAA6B,CAClC,KAAMC,CAAAA,OAAO,CAAGF,oBAAoB,EAApC,CACA,KAAM,CAACG,UAAU,CAAG,EAAd,EAAoBD,OAA1B,CACA,KAAM,CAACE,QAAQ,CAAE,CAACC,gBAAgB,CAAEC,eAAnB,CAAX,EAAkDH,UAAU,CAACI,YAAnE,CACA,KAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWJ,eAAe,CAACE,IAA3B,CAAb,CACA,KAAMG,CAAAA,GAAG,CAAG,GAAIF,CAAAA,IAAJ,EAAZ,CACA,KAAMG,CAAAA,QAAQ,CAAGC,IAAI,CAACC,GAAL,CAASH,GAAG,CAAGH,IAAf,CAAjB,CACA,KAAMO,CAAAA,QAAQ,CAAGF,IAAI,CAACG,IAAL,CAAUJ,QAAQ,EAAI,KAAO,EAAP,CAAY,EAAZ,CAAiB,EAArB,CAAlB,CAAjB,CAEA,GAAIK,CAAAA,QAAQ,CAAG,IAAf,CAEA,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjCD,QAAQ,CAAG,GAAIR,CAAAA,IAAJ,CAASU,QAAQ,CAACD,MAAM,CAACE,YAAP,CAAoBC,OAApB,CAA4B,oBAA5B,GAAqD,GAAtD,CAAjB,CAAX,CACD,CAED,GAAIN,QAAQ,CAAG,EAAX,GAAkB,CAACE,QAAD,EAAaA,QAAQ,CAAGT,IAA1C,CAAJ,CAAqD,CACnD,MAAOF,CAAAA,eAAP,CACD,CAED,MAAO,KAAP,CACD,CAED,MAAO,SAASgB,CAAAA,kBAAT,EAA8B,CACnC,GAAI,MAAOJ,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjCA,MAAM,CAACE,YAAP,CAAoBG,OAApB,CAA4B,oBAA5B,CAAkD,GAAId,CAAAA,IAAJ,GAAWe,OAAX,EAAlD,EACD,CACF,CAED,cAAe,CAACvB,iBAAD,CAAoBqB,kBAApB,CAAf","sourcesContent":["import useDocusaurusContext from '@docusaurus/useDocusaurusContext';\n\nexport function fetchNewHighlight() {\n  const context = useDocusaurusContext();\n  const {siteConfig = {}} = context;\n  const {metadata: {latest_highlight: latestHighlight}} = siteConfig.customFields;\n  const date = Date.parse(latestHighlight.date);\n  const now = new Date();\n  const diffTime = Math.abs(now - date);\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n  let viewedAt = null;\n\n  if (typeof window !== 'undefined') {\n    viewedAt = new Date(parseInt(window.localStorage.getItem('highlightsViewedAt') || '0'));\n  }\n\n  if (diffDays < 30 && (!viewedAt || viewedAt < date)) {\n    return latestHighlight;\n  }\n\n  return null;\n}\n\nexport function viewedNewHighlight() {\n  if (typeof window !== 'undefined') {\n    window.localStorage.setItem('highlightsViewedAt', new Date().getTime());\n  }\n}\n\nexport default {fetchNewHighlight, viewedNewHighlight};\n"]}]}