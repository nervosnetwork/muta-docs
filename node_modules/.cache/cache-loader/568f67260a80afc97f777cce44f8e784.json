{"remainingRequest":"/Users/Yun/Desktop/vdocs/website/node_modules/babel-loader/lib/index.js??ref--9-1!/Users/Yun/Desktop/vdocs/website/node_modules/@docusaurus/mdx-loader/src/index.js??ref--9-2!/Users/Yun/Desktop/vdocs/website/plugins/guides/markdownLoader.js??ref--9-3!/Users/Yun/Desktop/vdocs/website/guides/advanced/custom-aggregations-with-lua.md","dependencies":[{"path":"/Users/Yun/Desktop/vdocs/website/guides/advanced/custom-aggregations-with-lua.md","mtime":1594780808439},{"path":"/Users/Yun/Desktop/vdocs/website/.docusaurus/guides/site-guides-advanced-custom-aggregations-with-lua-md-c2b.json","mtime":1595086435158},{"path":"/Users/Yun/Desktop/vdocs/website/node_modules/cache-loader/dist/cjs.js","mtime":1588759099254},{"path":"/Users/Yun/Desktop/vdocs/website/node_modules/babel-loader/lib/index.js","mtime":1588759098876},{"path":"/Users/Yun/Desktop/vdocs/website/node_modules/@docusaurus/mdx-loader/src/index.js","mtime":1588759134386},{"path":"/Users/Yun/Desktop/vdocs/website/plugins/guides/markdownLoader.js","mtime":1594780808724}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9leHRlbmRzIGZyb20iL1VzZXJzL1l1bi9EZXNrdG9wL3Zkb2NzL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMiO2ltcG9ydCBSZWFjdCBmcm9tJ3JlYWN0JztpbXBvcnR7bWR4fWZyb20nQG1keC1qcy9yZWFjdCc7ZXhwb3J0IGNvbnN0IGZyb250TWF0dGVyPXtsYXN0X21vZGlmaWVkX29uOicyMDIwLTA3LTEzJywkc2NoZW1hOicvLm1ldGEvLnNjaGVtYXMvZ3VpZGVzLmpzb24nLHRpdGxlOidDdXN0b20gQWdncmVnYXRpb25zIHdpdGggTHVhJyxkZXNjcmlwdGlvbjonV3JpdGUgYSBjdXN0b20gdHJhbnNmb3JtIGZvciBhZ2dyZWdhdGluZyBsb2cgZXZlbnRzIGludG8gbWV0cmljcyB1c2luZyBMdWEgc2NyaXB0aW5nJyxhdXRob3JfZ2l0aHViOidodHRwczovL2dpdGh1Yi5jb20vYS1yb2RpbicsdGFnczpbJ3R5cGU6IGd1aWRlJywnZG9tYWluOiB0cmFuc2Zvcm1zJywndHJhbnNmb3JtOiBsdWEnXX07ZXhwb3J0IGNvbnN0IG1ldGFkYXRhPXsiY2F0ZWdvcmllcyI6W3sibmFtZSI6ImFkdmFuY2VkIiwidGl0bGUiOiJBZHZhbmNlZCIsImRlc2NyaXB0aW9uIjoiR28gdGhlIGJhc2ljcywgYmVjb21lIGEgVmVjdG9yIHBybywgYW5kIGV4dHJhY3QgdGhlIGZ1bGwgcG90ZW50aWFsIG9mIFZlY3Rvci4iLCJwZXJtYWxpbmsiOiIvZ3VpZGVzL2FkdmFuY2VkIn1dLCJjb3ZlckxhYmVsIjoiQ3VzdG9tIEFnZ3JlZ2F0aW9ucyB3aXRoIEx1YSIsImRlc2NyaXB0aW9uIjoiV3JpdGUgYSBjdXN0b20gdHJhbnNmb3JtIGZvciBhZ2dyZWdhdGluZyBsb2cgZXZlbnRzIGludG8gbWV0cmljcyB1c2luZyBMdWEgc2NyaXB0aW5nIiwicGVybWFsaW5rIjoiL2d1aWRlcy9hZHZhbmNlZC9jdXN0b20tYWdncmVnYXRpb25zLXdpdGgtbHVhIiwicmVhZGluZ1RpbWUiOiI2IG1pbiByZWFkIiwic291cmNlIjoiQHNpdGUvZ3VpZGVzL2FkdmFuY2VkL2N1c3RvbS1hZ2dyZWdhdGlvbnMtd2l0aC1sdWEubWQiLCJ0YWdzIjpbeyJsYWJlbCI6InR5cGU6IGd1aWRlIiwicGVybWFsaW5rIjoiL2d1aWRlcy90YWdzL3R5cGUtZ3VpZGUifSx7ImxhYmVsIjoiZG9tYWluOiB0cmFuc2Zvcm1zIiwicGVybWFsaW5rIjoiL2d1aWRlcy90YWdzL2RvbWFpbi10cmFuc2Zvcm1zIn0seyJsYWJlbCI6InRyYW5zZm9ybTogbHVhIiwicGVybWFsaW5rIjoiL2d1aWRlcy90YWdzL3RyYW5zZm9ybS1sdWEifV0sInRpdGxlIjoiQ3VzdG9tIEFnZ3JlZ2F0aW9ucyB3aXRoIEx1YSIsInRydW5jYXRlZCI6ZmFsc2UsInByZXZJdGVtIjp7InRpdGxlIjoiQnVpbGRpbmcgJiBNYW5hZ2luZyBDb21wbGV4IENvbmZpZ3MiLCJwZXJtYWxpbmsiOiIvZ3VpZGVzL2FkdmFuY2VkL21hbmFnaW5nLWNvbXBsZXgtY29uZmlncyJ9LCJuZXh0SXRlbSI6eyJ0aXRsZSI6Ik1hbmFnaW5nIFNjaGVtYXMgaW4gVmVjdG9yIiwicGVybWFsaW5rIjoiL2d1aWRlcy9hZHZhbmNlZC9zY2hlbWFzIn19Oy8qIEBqc3ggbWR4ICovZXhwb3J0IGNvbnN0IHJpZ2h0VG9jPVt7dmFsdWU6J0FyY2hpdGVjdHVyYWwgT3ZlcnZpZXcnLGlkOidhcmNoaXRlY3R1cmFsLW92ZXJ2aWV3JyxjaGlsZHJlbjpbe3ZhbHVlOidIb29rcycsaWQ6J2hvb2tzJyxjaGlsZHJlbjpbXX0se3ZhbHVlOidUaW1lciBoYW5kbGVycycsaWQ6J3RpbWVyLWhhbmRsZXJzJyxjaGlsZHJlbjpbXX1dfSx7dmFsdWU6J0ZpcnN0IEltcGxlbWVudGF0aW9uJyxpZDonZmlyc3QtaW1wbGVtZW50YXRpb24nLGNoaWxkcmVuOltdfSx7dmFsdWU6J1JlZHVjZSBEdXBsaWNhdGlvbicsaWQ6J3JlZHVjZS1kdXBsaWNhdGlvbicsY2hpbGRyZW46W119LHt2YWx1ZTonS2VlcCBBbGwgQ29kZSBUb2dldGhlcicsaWQ6J2tlZXAtYWxsLWNvZGUtdG9nZXRoZXInLGNoaWxkcmVuOltdfSx7dmFsdWU6J0EgTG9hZGFibGUgTW9kdWxlJyxpZDonYS1sb2FkYWJsZS1tb2R1bGUnLGNoaWxkcmVuOltdfSx7dmFsdWU6J0NvbmNsdXNpb24nLGlkOidjb25jbHVzaW9uJyxjaGlsZHJlbjpbXX1dO2NvbnN0IG1ha2VTaG9ydGNvZGU9bmFtZT0+ZnVuY3Rpb24gTURYRGVmYXVsdFNob3J0Y29kZShwcm9wcyl7Y29uc29sZS53YXJuKCJDb21wb25lbnQgIituYW1lKyIgd2FzIG5vdCBpbXBvcnRlZCwgZXhwb3J0ZWQsIG9yIHByb3ZpZGVkIGJ5IE1EWFByb3ZpZGVyIGFzIGdsb2JhbCBzY29wZSIpO3JldHVybiBtZHgoImRpdiIscHJvcHMpO307Y29uc3QgbGF5b3V0UHJvcHM9e3JpZ2h0VG9jfTtjb25zdCBNRFhMYXlvdXQ9IndyYXBwZXIiO2V4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1EWENvbnRlbnQoe2NvbXBvbmVudHMsLi4ucHJvcHN9KXtyZXR1cm4gbWR4KE1EWExheW91dCxfZXh0ZW5kcyh7fSxsYXlvdXRQcm9wcyxwcm9wcyx7Y29tcG9uZW50czpjb21wb25lbnRzLG1keFR5cGU6Ik1EWExheW91dCJ9KSxtZHgoInAiLG51bGwsYFdoaWxlIFZlY3RvcidzIGJ1aWx0LWluIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Ii9kb2NzL3JlZmVyZW5jZS90cmFuc2Zvcm1zLyJ9KSxgdHJhbnNmb3Jtc2ApLGAgYXJlIGZhc3QsIHNvbWV0aW1lcyB0aGV5IGFyZSBub3QgZXhwcmVzc2l2ZQplbm91Z2ggZm9yIHlvdXIgbmVlZHMuIEluIHN1Y2ggY2FzZXMgdGhlIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Ii9kb2NzL3JlZmVyZW5jZS90cmFuc2Zvcm1zL2x1YS8ifSksbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToiYSJ9LGBsdWFgKSksYCB0cmFuc2Zvcm0gY29tZXMgdG8gcmVzY3VlLCBsZXR0aW5nIHlvdQpkZWZpbmUgY3VzdG9tIHRyYW5zZm9ybWF0aW9uIGxvZ2ljLmApLG1keCgicCIsbnVsbCxgVGhpcyBndWlkZSB3YWxrcyB0aHJvdWdoIHZhcmlvdXMgd2F5cyBvZiBkZWZpbmluZyBhbiBhZ2dyZWdhdGluZyB0cmFuc2Zvcm0gY29tcG9uZW50IHRoYXQgdGFrZXMgaW5jb21pbmcgbG9nIGV2ZW50cywKY291bnRzIHRoZW0sIGFuZCBlbWl0cyBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiIvZG9jcy9hYm91dC9kYXRhLW1vZGVsL21ldHJpYy8jY291bnRlciJ9KSxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJhIn0sYGNvdW50ZXJgKSksYCBtZXRyaWNzIGVhY2ggNSBzZWNvbmRzLmApLG1keCgiaDIiLHsiaWQiOiJhcmNoaXRlY3R1cmFsLW92ZXJ2aWV3In0sYEFyY2hpdGVjdHVyYWwgT3ZlcnZpZXdgKSxtZHgoInAiLG51bGwsYEx1YSBpcyBhbiBpbnRlcnByZXRlZCBsYW5ndWFnZSBlbWJlZGRlZCBpbnRvIFZlY3Rvci4gV2hlbiBhIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBsdWFgKSxgIHRyYW5zZm9ybSBpcyBjcmVhdGVkLCBpdCBzdGFydHMgYW4gaW5zdGFuY2UKb2YgdGhlIEx1YSBpbnRlcnByZXRlci4gQXMgYSBjb25zZXF1ZW5jZSwgZGlmZmVyZW50IHRyYW5zZm9ybXMgYXJlIGlzb2xhdGVkIGFuZCBjYW5ub3QgaW50ZXJydXB0IGVhY2ggb3RoZXIuYCksbWR4KCJwIixudWxsLGBUaGUgZXhlY3V0aW9uIG1vZGVsIGlzIGFzeW5jaHJvbm91cywgd2l0aCB0d28ga2V5IGNvbmNlcHRzOiBgLG1keCgiZW0iLHtwYXJlbnROYW1lOiJwIn0sYGhvb2tzYCksYCBhbmQgYCxtZHgoImVtIix7cGFyZW50TmFtZToicCJ9LGB0aW1lciBoYW5kbGVyc2ApLGAuIEJvdGggb2YgdGhlbSBhcmUKdXNlci1kZWZpbmVkIEx1YSBmdW5jdGlvbnMgd2hpY2ggYXJlIGNhbGxlZCBieSBWZWN0b3IgYXQgY2VydGFpbiBldmVudHMuYCksbWR4KCJoMyIseyJpZCI6Imhvb2tzIn0sYEhvb2tzYCksbWR4KCJwIixudWxsLGBUaGVyZSBhcmUgdGhyZWUgdHlwZXMgb2YgaG9va3M6IGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBpbml0YCksYCwgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHByb2Nlc3NgKSxgLCBhbmQgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHNodXRkb3duYCksYC5gKSxtZHgoImg0Iix7ImlkIjoidGhlLXByb2Nlc3MtaG9vayJ9LGBUaGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJoNCJ9LGBwcm9jZXNzYCksYCBob29rYCksbWR4KCJwIixudWxsLGBUaGUgbW9zdCBpbXBvcnRhbnQgb2YgdGhlbSBpcyBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgcHJvY2Vzc2ApLGAsIHdoaWNoIGlzIGNhbGxlZCBvbiBlYWNoIGluY29taW5nIGV2ZW50cy4gSXQgY2FuIGJlIGRlZmluZWQgbGlrZSB0aGlzOmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHsiY2xhc3NOYW1lIjoibGFuZ3VhZ2UtdG9tbCJ9KSxgaG9va3MucHJvY2VzcyA9ICIiIgpmdW5jdGlvbiAoZXZlbnQsIGVtaXQpCiAgLS0gZG8gc29tZXRoaW5nCmVuZAoiIiIKYCkpLG1keCgicCIsbnVsbCxgSXQgdGFrZXMgYSBzaW5nbGUgZXZlbnQgYW5kIGNhbiBvdXRwdXQgb25lIG9yIG1hbnkgb2YgdGhlbSB1c2luZyB0aGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGVtaXRgKSxgIGZ1bmN0aW9uIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuYCksbWR4KCJwIixudWxsLGBGb3IgZXhhbXBsZSwgdGhlIGJvZHkgb2YgdGhlIGZ1bmN0aW9uIGFib3ZlIGNvdWxkIGhhdmUgYmVlbmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHsiY2xhc3NOYW1lIjoibGFuZ3VhZ2UtbHVhIn0pLGBldm5ldC5sb2cubXlfZmllbGQgPSAibXkgdmFsdWUiCmVtaXQoZXZlbnQpCmApKSxtZHgoInAiLG51bGwsYFRoZSBjb2RlIGFib3ZlIHNldHMgZmllbGQgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYG15X2ZpZWxkYCksYCB0byB2YWx1ZSBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgIm15X3ZhbHVlImApLGAgYW5kIHNlbmRzIHRoZSBuZXdseSBjcmVhdGVkIGV2ZW50IHRvIHRoZSBkb3duc3RyZWFtCmNvbXBvbmVudHMuIFJlYWQgbW9yZSBhYm91dCBldmVudCByZXByZXNlbnRhdGlvbiBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiIvZG9jcy9yZWZlcmVuY2UvdHJhbnNmb3Jtcy9sdWEvI3JlcHJlc2VudGF0aW9uLW9mLWV2ZW50cyJ9KSxgaW4gdGhlIHJlZmVyZW5jZWApLGAuYCksbWR4KCJoNCIseyJpZCI6InRoZS1pbml0LWhvb2sifSxgVGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToiaDQifSxgaW5pdGApLGAgaG9va2ApLG1keCgicCIsbnVsbCxgVGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBpbml0YCksYCBob29rIGlzIHNpbWlsYXIgdG8gYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHByb2Nlc3NgKSxgIGhvb2ssIGJ1dCBpdCBpcyBjYWxsZWQgYmVmb3JlIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgcHJvY2Vzc2ApLGAgaG9vaywgYW5kIHRodXMKdGFrZXMgbm8gZXZlbnRzIGFzIGl0cyBhcmd1bWVudHMuYCksbWR4KCJwIixudWxsLGBOb3RlIHRoYXQgaXQgYWx0aG91Z2ggaXQgaXMgY2FsbGVkIGJlZm9yZSB0aGUgZmlyc3QgZXZlbnQsIGl0IGlzIGNhbGxlZCBvbmx5IGFmdGVyIHRoZSBmaXJzdCBldmVudCBpcyByZWFkeSB0byBiZQpwcm9jZXNzZWQuIEhvd2V2ZXIsIG9uZSBzaG91bGQgbm90IHJlbHkgb24gdGhpcyBiZWhhdmlvciwgYXMgaXQgaXMgbm90IGd1YXJhbnRlZWQgdG8gbm90IGNoYW5nZSBpbiB0aGUgZnV0dXJlLmApLG1keCgiaDQiLHsiaWQiOiJ0aGUtc2h1dGRvd24taG9vayJ9LGBUaGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJoNCJ9LGBzaHV0ZG93bmApLGAgaG9va2ApLG1keCgicCIsbnVsbCxgVGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBzaHV0ZG93bmApLGAgaG9vayBpcyBjYWxsZWQgYWZ0ZXIgdGhlIGxhc3QgZXZlbnQgaXMgcmVjZWl2ZWQuIEl0IGRvZXNuJ3QgdGFrZSBldmVudHMgYXMgYXJndW1lbnRzIGFzIHdlbGwuYCksbWR4KCJoMyIseyJpZCI6InRpbWVyLWhhbmRsZXJzIn0sYFRpbWVyIGhhbmRsZXJzYCksbWR4KCJwIixudWxsLGBUaW1lciBoYW5kbGVycyBhcmUgc2ltaWxhciB0byBob29rcyBieSBiZWluZyBMdWEgZnVuY3Rpb25zIGNhcGFibGUgb2YgcHJvZHVjaW5nIGV2ZW50cy4gSG93ZXZlciwgdGhleSBhcmUgY2FsbGVkCnBlcmlvZGljYWxseSBhdCBwcmUtZGVmaW5lZCBpbnRlcnZhbHMuYCksbWR4KCJwIixudWxsLGBBbGwgb2YgdGhlIGZ1bmN0aW9ucyBsaXN0ZWQgYWJvdmUgc2hhcmUgYSBzaW5nbGUgcnVudGltZSwgc28gdGhleSBjYW4gY29tbXVuaWNhdGUgYmV0d2VlbiBlYWNoIG90aGVyIHVzaW5nIGdsb2JhbAp2YXJpYWJsZXMuYCksbWR4KCJoMiIseyJpZCI6ImZpcnN0LWltcGxlbWVudGF0aW9uIn0sYEZpcnN0IEltcGxlbWVudGF0aW9uYCksbWR4KCJwIixudWxsLGBVc2luZyB0aGUga25vd2xlZGdlIGZyb20gdGhlIHByZXZpb3VzIHNlY3Rpb24sIGl0IGlzIHBvc3NpYmxlIHRvIHdyaXRlIGRvd24gdGhlIGZvbGxvd2luZyB0cmFuc2Zvcm0gZGVmaW5pdGlvbjpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLXRvbWwiLCJtZXRhc3RyaW5nIjoidGl0bGU9XCJ2ZWN0b3IudG9tbFwiIiwidGl0bGUiOiJcInZlY3Rvci50b21sXCIifSksYFt0cmFuc2Zvcm1zLmFnZ3JlZ2F0b3JdCnR5cGUgPSAibHVhIgp2ZXJzaW9uID0gIjIiCmlucHV0cyA9IFtdICMgYWRkIG5hbWVzIG9mIHRoZSBpbnB1dCBjb21wb25lbnRzIGhlcmUKCmhvb2tzLmluaXQgPSAiIiIKICBmdW5jdGlvbiAoZW1pdCkKICAgIGNvdW50ID0gMCAtLSBpbml0aWFsaXplIHN0YXRlIGJ5IHNldHRpbmcgYSBnbG9iYWwgdmFyaWFibGUKICBlbmQKIiIiCgpob29rcy5wcm9jZXNzID0gIiIiCiAgZnVuY3Rpb24gKGV2ZW50LCBlbWl0KQogICAgY291bnQgPSBjb3VudCArIDEgLS0gaW5jcmVtZW50IHRoZSBjb3VudGVyIGFuZCBleGl0CiAgZW5kCiIiIgoKdGltZXJzID0gW3tpbnRlcnZhbF9zZWNvbmRzID0gNSwgaGFuZGxlciA9ICIiIgogIGZ1bmN0aW9uIChlbWl0KQogICAgZW1pdCB7CiAgICAgIG1ldHJpYyA9IHsKICAgICAgICBuYW1lID0gImV2ZW50X2NvdW50ZXIiLAogICAgICAgIGtpbmQgPSAiaW5jcmVtZW50YWwiLAogICAgICAgIHRpbWVzdGFtcCA9IG9zLmRhdGUoIiEqdCIpLAogICAgICAgIGNvdW50ZXIgPSB7CiAgICAgICAgICB2YWx1ZSA9IGNvdW50ZXIKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGNvdW50ZXIgPSAwCiAgZW5kCiIiIn1dCgpob29rcy5zaHV0ZG93biA9ICIiIgogIGZ1bmN0aW9uIChlbWl0KQogICAgZW1pdCB7CiAgICAgIG1ldHJpYyA9IHsKICAgICAgICBuYW1lID0gImV2ZW50X2NvdW50ZXIiLAogICAgICAgIGtpbmQgPSAiaW5jcmVtZW50YWwiLAogICAgICAgIHRpbWVzdGFtcCA9IG9zLmRhdGUoIiEqdCIpLAogICAgICAgIGNvdW50ZXIgPSB7CiAgICAgICAgICB2YWx1ZSA9IGNvdW50ZXIKICAgICAgICB9CiAgICAgIH0KICAgIH0KICBlbmQKIiIiCmApKSxtZHgoInAiLG51bGwsYE9uZSBjb3VsZCBwbHVnIGl0IGludG8gYSBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiIvZG9jcy9hYm91dC9jb25jZXB0cy8jcGlwZWxpbmVzIn0pLGBwaXBlbGluZWApLGAgYW5kIGl0IHdvdWxkIHdvcmshYCksbWR4KCJwIixudWxsLGBIb3dldmVyLCB0aGlzIGNvZGUgY291bGQgYW5kIHNob3VsZCBiZSByZWZhY3RvcmVkLiBIb2xkIG9uIHRvIHRoZSBuZXh0IHNlY3Rpb24gdG8gc2VlIGhvdyBpdCBjb3VsZCBiZSBkb25lLmApLG1keCgiaDIiLHsiaWQiOiJyZWR1Y2UtZHVwbGljYXRpb24ifSxgUmVkdWNlIER1cGxpY2F0aW9uYCksbWR4KCJwIixudWxsLGBBIGJpcmQncy1leWUgdmlldyBvZiB0aGUgdHJhbnNmb3JtIGRlZmluaXRpb24gcmV2ZWFscyB0aGF0IHRoZSB0aW1lciBoYW5kbGVyIGFuZCB0aGUgc2h1dGRvd24gaG9vayBhcmUgYWxtb3N0CmlkZW50aWNhbC4gSXQgaXMgcG9zc2libGUgbWFrZSB0aGUgY29uZmlnIG1vcmUgYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwIn0seyJocmVmIjoiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRG9uJTI3dF9yZXBlYXRfeW91cnNlbGYifSksYERSWWApLGAgYnkgZXh0cmFjdGluZyBjcmVhdGlvbiBvZiB0aGUgY291bnRlciBpbnRvCmEgZGVkaWNhdGVkIGZ1bmN0aW9uLiBTdWNoIGEgZnVuY3Rpb24gY2FuIGJlIHBsYWNlZCBpbnRvIHRoZSBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiIvZG9jcy9yZWZlcmVuY2UvdHJhbnNmb3Jtcy9sdWEvI3NvdXJjZSJ9KSxgc291cmNlYCksYApzZWN0aW9uIG9mIHRoZSBjb25maWc6YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0seyJjbGFzc05hbWUiOiJsYW5ndWFnZS10b21sIn0pLGBzb3VyY2UgPSAiIiIKICBmdW5jdGlvbiBtYWtlX2NvdW50ZXIodmFsdWUpCiAgICByZXR1cm4gbWV0cmljID0gewogICAgICBuYW1lID0gImV2ZW50X2NvdW50ZXIiLAogICAgICBraW5kID0gImluY3JlbWVudGFsIiwKICAgICAgdGltZXN0YW1wID0gb3MuZGF0ZSgiISp0IiksCiAgICAgIGNvdW50ZXIgPSB7CiAgICAgICAgdmFsdWUgPSB2YWx1ZQogICAgICB9CiAgICB9CiAgZW5kCiIiIgpgKSksbWR4KCJwIixudWxsLGBhbmQgdGhlbiBhZGp1c3RpbmcgdGhlIHRpbWVyIGhhbmRsZXJgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLXRvbWwifSksYHRpbWVycyA9IFt7aW50ZXJ2YWxfc2Vjb25kcyA9IDUsIGhhbmRsZXIgPSAiIiIKICBmdW5jdGlvbiAoZW1pdCkKICAgIGVtaXQobWFrZV9jb3VudGVyKGNvdW50ZXIpKQogICAgY291bnRlciA9IDAKICBlbmQKIiIifV0KYCkpLG1keCgicCIsbnVsbCxgYW5kIHRoZSBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgc2h1dGRvd25gKSxgIGhvb2s6YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0seyJjbGFzc05hbWUiOiJsYW5ndWFnZS10b21sIn0pLGBob29rcy5zaHV0ZG93biA9ICIiIgogIGZ1bmN0aW9uIChlbWl0KQogICAgZW1pdChtYWtlX2NvdW50ZXIoY291bnRlcikpCiAgZW5kCiIiIgpgKSksbWR4KCJoMiIseyJpZCI6ImtlZXAtYWxsLWNvZGUtdG9nZXRoZXIifSxgS2VlcCBBbGwgQ29kZSBUb2dldGhlcmApLG1keCgicCIsbnVsbCxgVGhlIG5ldyBjb25maWcgbG9va3MgdGlkaWVyLCBidXQgaW4gb3JkZXIgdG8gbWFrZSBpdCBtb3JlIHJlYWRhYmxlLCBpdCBpcyBhbHNvIHBvc3NpYmxlIHRvIGdhdGhlciBpbXBsZW1lbnRhdGlvbnMgb2YKYWxsIGZ1bmN0aW9ucyBpbnRvIHRoZSBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgc291cmNlYCksYCBzZWN0aW9uLCByZXN1bHRpbmcgaW4gdGhlIGZvbGxvd2luZyBjb21wb25lbnQgZGVjbGFyYXRpb246YCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0seyJjbGFzc05hbWUiOiJsYW5ndWFnZS10b21sIiwibWV0YXN0cmluZyI6InRpdGxlPVwidmVjdG9yLnRvbWxcIiIsInRpdGxlIjoiXCJ2ZWN0b3IudG9tbFwiIn0pLGBbdHJhbnNmb3Jtcy5hZ2dyZWdhdG9yXQp0eXBlID0gImx1YSIKdmVyc2lvbiA9ICIyIgppbnB1dHMgPSBbXSAjIGFkZCBuYW1lcyBvZiB0aGUgaW5wdXQgY29tcG9uZW50cyBoZXJlCmhvb2tzLmluaXQgPSAiaW5pdCIKaG9va3MucHJvY2VzcyA9ICJwcm9jZXNzIgpob29rcy5zaHV0ZG93biA9ICJzaHV0ZG93biIKdGltZXJzID0gW3tpbnRlcnZhbF9zZWNvbmRzID0gNSwgaGFuZGxlciA9ICJ0aW1lcl9oYW5kbGVyIn1dCgpzb3VyY2UgPSAiIiIKICBmdW5jdGlvbiBpbml0KCkKICAgIGNvdW50ID0gMAogIGVuZAoKICBmdW5jdGlvbiBwcm9jZXNzKCkKICAgIGNvdW50ID0gY291bnQgKyAxCiAgZW5kCgogIGZ1bmN0aW9uIHRpbWVyX2hhbmRsZXIoZW1pdCkKICAgIGVtaXQobWFrZV9jb3VudGVyKGNvdW50ZXIpKQogICAgY291bnRlciA9IDAKICBlbmQKCiAgZnVuY3Rpb24gc2h1dGRvd24oZW1pdCkKICAgIGVtaXQobWFrZV9jb3VudGVyKGNvdW50ZXIpKQogIGVuZAoKICBmdW5jdGlvbiBtYWtlX2NvdW50ZXIodmFsdWUpCiAgICByZXR1cm4gbWV0cmljID0gewogICAgICBuYW1lID0gImV2ZW50X2NvdW50ZXIiLAogICAgICBraW5kID0gImluY3JlbWVudGFsIiwKICAgICAgdGltZXN0YW1wID0gb3MuZGF0ZSgiISp0IiksCiAgICAgIGNvdW50ZXIgPSB7CiAgICAgICAgdmFsdWUgPSB2YWx1ZQogICAgICB9CiAgICB9CiAgZW5kCiIiIgpgKSksbWR4KCJoMiIseyJpZCI6ImEtbG9hZGFibGUtbW9kdWxlIn0sYEEgTG9hZGFibGUgTW9kdWxlYCksbWR4KCJwIixudWxsLGBBcyB0aGUgTHVhIHNvdXJjZSBncm93cywgaXQgYmVjb21lcyBiZW5lZml0aWFsIHRvIHBsYWNlIGl0IGludG8gYSBzZXBhcmF0ZSBmaWxlLiBPbmUgb2J2aW91cyBhZHZhbnRhZ2UgaXMgdGhlCnBvc3NpYmxpdHkgdG8gdXNlIEx1YSBzeW50YXggaGlnaGxpZ2h0aW5nIGluIHRoZSB0ZXh0IGVkaXRvci4gQSBsZXNzIG9idmlvdXMgb25lIGlzIHRoZSBwb3NzaWJpbGl0eSB0byBzaGFyZQpjb21tb24gZnVuY3Rpb25hbGl0eSBiZXR3ZWVuIGRpZmZlcmVudCBzY3JpcHRlZCB0cmFuc2Zvcm1zIHVzaW5nIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Imh0dHBzOi8vd3d3Lmx1YS5vcmcvbWFudWFsLzUuMy9tYW51YWwuaHRtbCM2LjMifSksYGxvYWRhYmxlIG1vZHVsZXNgKSxgLmApLG1keCgicCIsbnVsbCxgVGhlcmUgYXJlIG1hbnkgd2F5cyB0byB1c2UgbW9kdWxlcyBpbiBMdWEuIFRoZSBzaW1wbGVzdCBvbmUgaXMgdG8ganVzdCB1c2UgYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwIn0seyJocmVmIjoiaHR0cHM6Ly93d3cubHVhLm9yZy9tYW51YWwvNS4zL21hbnVhbC5odG1sI3BkZi1yZXF1aXJlIn0pLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6ImEifSxgcmVxdWlyZWApKSxgIGZ1bmN0aW9uIHRvCmV2YWx1YXRlIGNvZGUgZnJvbSBhIGZpbGUsIHNldHRpbmcgdXAgc29tZSBnbG9iYWwgdmFyaWFibGVzLmApLG1keCgicCIsbnVsbCxgV2l0aCB0aGlzIGFwcHJvYWNoIHRoZSBjb25maWcgZnJvbSB0aGUgcHJldmlvdXMgc2VjdGlvbiBiZWNvbWVzIHNwbGl0IGludG8gdHdvIGZpbGVzOmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHsiY2xhc3NOYW1lIjoibGFuZ3VhZ2UtbHVhIiwibWV0YXN0cmluZyI6InRpdGxlPVwiYWdncmVnYXRvci5sdWFcIiIsInRpdGxlIjoiXCJhZ2dyZWdhdG9yLmx1YVwiIn0pLGBmdW5jdGlvbiBpbml0KCkKICBjb3VudCA9IDAKZW5kCgpmdW5jdGlvbiBhZ2dyZWdhdG9yLnByb2Nlc3MoKQogIGNvdW50ID0gY291bnQgKyAxCmVuZAoKZnVuY3Rpb24gYWdncmVnYXRvci50aW1lcl9oYW5kbGVyKGVtaXQpCiAgZW1pdChtYWtlX2NvdW50ZXIoY291bnRlcikpCiAgY291bnRlciA9IDAKZW5kCgpmdW5jdGlvbiBhZ2dyZWdhdG9yLnNodXRkb3duKGVtaXQpCiAgZW1pdChtYWtlX2NvdW50ZXIoY291bnRlcikpCmVuZAoKZnVuY3Rpb24gYWdncmVnYXRvci5tYWtlX2NvdW50ZXIodmFsdWUpCiAgcmV0dXJuIG1ldHJpYyA9IHsKICAgIG5hbWUgPSAiZXZlbnRfY291bnRlciIsCiAgICBraW5kID0gImluY3JlbWVudGFsIiwKICAgIHRpbWVzdGFtcCA9IG9zLmRhdGUoIiEqdCIpLAogICAgY291bnRlciA9IHsKICAgICAgdmFsdWUgPSB2YWx1ZQogICAgfQogIH0KZW5kCmApKSxtZHgoInAiLG51bGwsYGFuZGApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHsiY2xhc3NOYW1lIjoibGFuZ3VhZ2UtdG9tbCIsIm1ldGFzdHJpbmciOiJ0aXRsZT1cInZlY3Rvci50b21sXCIiLCJ0aXRsZSI6IlwidmVjdG9yLnRvbWxcIiJ9KSxgW3RyYW5zZm9ybXMuYWdncmVnYXRvcl0KdHlwZSA9ICJsdWEiCnZlcnNpb24gPSAiMiIKaW5wdXRzID0gW10gIyBhZGQgbmFtZXMgb2YgdGhlIGlucHV0IGNvbXBvbmVudHMgaGVyZQpob29rcy5pbml0ID0gImluaXQiCmhvb2tzLnByb2Nlc3MgPSAicHJvY2VzcyIKaG9va3Muc2h1dGRvd24gPSAic2h1dGRvd24iCnRpbWVycyA9IFt7aW50ZXJ2YWxfc2Vjb25kcyA9IDUsIGhhbmRsZXIgPSAidGltZXJfaGFuZGxlciJ9XQpzb3VyY2UgPSAicmVxdWlyZSgnYWdncmVnYXRvcicpIgpgKSksbWR4KCJwIixudWxsLGBUaGVyZSBhcmUgYWxzbyBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiJodHRwOi8vbHVhLXVzZXJzLm9yZy93aWtpL01vZHVsZXNUdXRvcmlhbCJ9KSxgb3RoZXIgcG9zc2liaWxpdGllc2ApLGAgdG8gZGVmaW5lIEx1YSBtb2R1bGVzIHdoaWNoIGRvIG5vdCByZXF1aXJlIHRvIHVzZQpnbG9iYWwgdmFyaWFibGVzLCBidXQgdGhleSBhcmUgbm90IFZlY3Rvci1zcGVjaWZpYywgYW5kIHNvIG91dCBvZiBzY29wZSBvZiB0aGlzIGd1aWRlLmApLG1keCgiaDIiLHsiaWQiOiJjb25jbHVzaW9uIn0sYENvbmNsdXNpb25gKSxtZHgoInAiLG51bGwsYEFzIHlvdSBoYXZlIHdpdG5lc3NlZCBieSByZWFkaW5nIHRoaXMgZ3VpZGUsIHRoZSBwb3dlciBvZiBWZWN0b3IgY29tZXMgZnJvbSBpdHMgZmxleGliaWxpdHkuIEluIGFkZGl0aW9uIHRvCnByb3ZpZGluZyBhIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Ii9kb2NzL3JlZmVyZW5jZS90cmFuc2Zvcm1zLyJ9KSxgcmljaCBzZXRgKSxgIG9mIHByZWRlZmluZWQgdHJhbnNmb3JtcyBmb3IgYnVpbGRpbmcgcHJvZHVjdGlvbi1ncmFkZSBvYnNlcnZhYmlsaXR5CnBpcGVsaW5lcywgaXQgbWFrZXMgaXQgcG9zc2libGUgdG8gd3JpdGUgY3VzdG9tIGFnZ3JlZ2F0aW9ucyBhcyBMdWEgc2NyaXB0cy4gVGhpcyBhbGxvd3MgZWFjaCByb2xlIG9mIFZlY3RvcgppbiBhIGAsbWR4KCJhIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicCJ9LHsiaHJlZiI6Ii9kb2NzL3NldHVwL2RlcGxveW1lbnQvdG9wb2xvZ2llcy8ifSksYGRlcGxveW1lbnQgdG9wb2xvZ3lgKSxgIHRvIHBlcmZvcm0gdmFyaW91cyBraW5kcyBvZiBhZ2dyZWdhdGlvbnMsIHByb3ZpZGluZwphbHRlcm5hdGl2ZXMgdG8gY2VudHJhbGl6ZWQgbG9ncyBhZ2dyZWdhdGlvbi5gKSk7fTtNRFhDb250ZW50LmlzTURYQ29tcG9uZW50PXRydWU7"},{"version":3,"sources":["/Users/Yun/Desktop/vdocs/website/guides/advanced/custom-aggregations-with-lua.md"],"names":["React","mdx","frontMatter","last_modified_on","$schema","title","description","author_github","tags","metadata","rightToc","value","id","children","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":"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","sourcesContent":["\n  import React from 'react';\n  import { mdx } from '@mdx-js/react';\n\n  export const frontMatter = {\n\tlast_modified_on: '2020-07-13',\n\t$schema: '/.meta/.schemas/guides.json',\n\ttitle: 'Custom Aggregations with Lua',\n\tdescription: 'Write a custom transform for aggregating log events into metrics using Lua scripting',\n\tauthor_github: 'https://github.com/a-rodin',\n\ttags: [\n\t\t'type: guide',\n\t\t'domain: transforms',\n\t\t'transform: lua'\n\t]\n};\nexport const metadata = {\n  \"categories\": [\n    {\n      \"name\": \"advanced\",\n      \"title\": \"Advanced\",\n      \"description\": \"Go the basics, become a Vector pro, and extract the full potential of Vector.\",\n      \"permalink\": \"/guides/advanced\"\n    }\n  ],\n  \"coverLabel\": \"Custom Aggregations with Lua\",\n  \"description\": \"Write a custom transform for aggregating log events into metrics using Lua scripting\",\n  \"permalink\": \"/guides/advanced/custom-aggregations-with-lua\",\n  \"readingTime\": \"6 min read\",\n  \"source\": \"@site/guides/advanced/custom-aggregations-with-lua.md\",\n  \"tags\": [\n    {\n      \"label\": \"type: guide\",\n      \"permalink\": \"/guides/tags/type-guide\"\n    },\n    {\n      \"label\": \"domain: transforms\",\n      \"permalink\": \"/guides/tags/domain-transforms\"\n    },\n    {\n      \"label\": \"transform: lua\",\n      \"permalink\": \"/guides/tags/transform-lua\"\n    }\n  ],\n  \"title\": \"Custom Aggregations with Lua\",\n  \"truncated\": false,\n  \"prevItem\": {\n    \"title\": \"Building & Managing Complex Configs\",\n    \"permalink\": \"/guides/advanced/managing-complex-configs\"\n  },\n  \"nextItem\": {\n    \"title\": \"Managing Schemas in Vector\",\n    \"permalink\": \"/guides/advanced/schemas\"\n  }\n};\n  /* @jsx mdx */\n\nexport const rightToc = [{\n  value: 'Architectural Overview',\n  id: 'architectural-overview',\n  children: [{\n    value: 'Hooks',\n    id: 'hooks',\n    children: []\n  }, {\n    value: 'Timer handlers',\n    id: 'timer-handlers',\n    children: []\n  }]\n}, {\n  value: 'First Implementation',\n  id: 'first-implementation',\n  children: []\n}, {\n  value: 'Reduce Duplication',\n  id: 'reduce-duplication',\n  children: []\n}, {\n  value: 'Keep All Code Together',\n  id: 'keep-all-code-together',\n  children: []\n}, {\n  value: 'A Loadable Module',\n  id: 'a-loadable-module',\n  children: []\n}, {\n  value: 'Conclusion',\n  id: 'conclusion',\n  children: []\n}];\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  rightToc\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <p>{`While Vector's built-in `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/\"\n      }}>{`transforms`}</a>{` are fast, sometimes they are not expressive\nenough for your needs. In such cases the `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/lua/\"\n      }}><inlineCode parentName=\"a\">{`lua`}</inlineCode></a>{` transform comes to rescue, letting you\ndefine custom transformation logic.`}</p>\n    <p>{`This guide walks through various ways of defining an aggregating transform component that takes incoming log events,\ncounts them, and emits `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/about/data-model/metric/#counter\"\n      }}><inlineCode parentName=\"a\">{`counter`}</inlineCode></a>{` metrics each 5 seconds.`}</p>\n    {\n      /*\n          THIS FILE IS AUTOGENERATED!\n           To make changes please edit the template located at:\n           website/guides/advanced/custom-aggregations-with-lua.md.erb\n      */\n    }\n    <h2 {...{\n      \"id\": \"architectural-overview\"\n    }}>{`Architectural Overview`}</h2>\n    <p>{`Lua is an interpreted language embedded into Vector. When a `}<inlineCode parentName=\"p\">{`lua`}</inlineCode>{` transform is created, it starts an instance\nof the Lua interpreter. As a consequence, different transforms are isolated and cannot interrupt each other.`}</p>\n    <p>{`The execution model is asynchronous, with two key concepts: `}<em parentName=\"p\">{`hooks`}</em>{` and `}<em parentName=\"p\">{`timer handlers`}</em>{`. Both of them are\nuser-defined Lua functions which are called by Vector at certain events.`}</p>\n    <h3 {...{\n      \"id\": \"hooks\"\n    }}>{`Hooks`}</h3>\n    <p>{`There are three types of hooks: `}<inlineCode parentName=\"p\">{`init`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`process`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`shutdown`}</inlineCode>{`.`}</p>\n    <h4 {...{\n      \"id\": \"the-process-hook\"\n    }}>{`The `}<inlineCode parentName=\"h4\">{`process`}</inlineCode>{` hook`}</h4>\n    <p>{`The most important of them is `}<inlineCode parentName=\"p\">{`process`}</inlineCode>{`, which is called on each incoming events. It can be defined like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\"\n      }}>{`hooks.process = \"\"\"\nfunction (event, emit)\n  -- do something\nend\n\"\"\"\n`}</code></pre>\n    <p>{`It takes a single event and can output one or many of them using the `}<inlineCode parentName=\"p\">{`emit`}</inlineCode>{` function provided as the second argument.`}</p>\n    <p>{`For example, the body of the function above could have been`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-lua\"\n      }}>{`evnet.log.my_field = \"my value\"\nemit(event)\n`}</code></pre>\n    <p>{`The code above sets field `}<inlineCode parentName=\"p\">{`my_field`}</inlineCode>{` to value `}<inlineCode parentName=\"p\">{`\"my_value\"`}</inlineCode>{` and sends the newly created event to the downstream\ncomponents. Read more about event representation `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/lua/#representation-of-events\"\n      }}>{`in the reference`}</a>{`.`}</p>\n    <h4 {...{\n      \"id\": \"the-init-hook\"\n    }}>{`The `}<inlineCode parentName=\"h4\">{`init`}</inlineCode>{` hook`}</h4>\n    <p>{`The `}<inlineCode parentName=\"p\">{`init`}</inlineCode>{` hook is similar to `}<inlineCode parentName=\"p\">{`process`}</inlineCode>{` hook, but it is called before the first call of the `}<inlineCode parentName=\"p\">{`process`}</inlineCode>{` hook, and thus\ntakes no events as its arguments.`}</p>\n    <p>{`Note that it although it is called before the first event, it is called only after the first event is ready to be\nprocessed. However, one should not rely on this behavior, as it is not guaranteed to not change in the future.`}</p>\n    <h4 {...{\n      \"id\": \"the-shutdown-hook\"\n    }}>{`The `}<inlineCode parentName=\"h4\">{`shutdown`}</inlineCode>{` hook`}</h4>\n    <p>{`The `}<inlineCode parentName=\"p\">{`shutdown`}</inlineCode>{` hook is called after the last event is received. It doesn't take events as arguments as well.`}</p>\n    <h3 {...{\n      \"id\": \"timer-handlers\"\n    }}>{`Timer handlers`}</h3>\n    <p>{`Timer handlers are similar to hooks by being Lua functions capable of producing events. However, they are called\nperiodically at pre-defined intervals.`}</p>\n    <p>{`All of the functions listed above share a single runtime, so they can communicate between each other using global\nvariables.`}</p>\n    <h2 {...{\n      \"id\": \"first-implementation\"\n    }}>{`First Implementation`}</h2>\n    <p>{`Using the knowledge from the previous section, it is possible to write down the following transform definition:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\",\n        \"metastring\": \"title=\\\"vector.toml\\\"\",\n        \"title\": \"\\\"vector.toml\\\"\"\n      }}>{`[transforms.aggregator]\ntype = \"lua\"\nversion = \"2\"\ninputs = [] # add names of the input components here\n\nhooks.init = \"\"\"\n  function (emit)\n    count = 0 -- initialize state by setting a global variable\n  end\n\"\"\"\n\nhooks.process = \"\"\"\n  function (event, emit)\n    count = count + 1 -- increment the counter and exit\n  end\n\"\"\"\n\ntimers = [{interval_seconds = 5, handler = \"\"\"\n  function (emit)\n    emit {\n      metric = {\n        name = \"event_counter\",\n        kind = \"incremental\",\n        timestamp = os.date(\"!*t\"),\n        counter = {\n          value = counter\n        }\n      }\n    }\n    counter = 0\n  end\n\"\"\"}]\n\nhooks.shutdown = \"\"\"\n  function (emit)\n    emit {\n      metric = {\n        name = \"event_counter\",\n        kind = \"incremental\",\n        timestamp = os.date(\"!*t\"),\n        counter = {\n          value = counter\n        }\n      }\n    }\n  end\n\"\"\"\n`}</code></pre>\n    <p>{`One could plug it into a `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/about/concepts/#pipelines\"\n      }}>{`pipeline`}</a>{` and it would work!`}</p>\n    <p>{`However, this code could and should be refactored. Hold on to the next section to see how it could be done.`}</p>\n    <h2 {...{\n      \"id\": \"reduce-duplication\"\n    }}>{`Reduce Duplication`}</h2>\n    <p>{`A bird's-eye view of the transform definition reveals that the timer handler and the shutdown hook are almost\nidentical. It is possible make the config more `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\"\n      }}>{`DRY`}</a>{` by extracting creation of the counter into\na dedicated function. Such a function can be placed into the `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/lua/#source\"\n      }}>{`source`}</a>{`\nsection of the config:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\"\n      }}>{`source = \"\"\"\n  function make_counter(value)\n    return metric = {\n      name = \"event_counter\",\n      kind = \"incremental\",\n      timestamp = os.date(\"!*t\"),\n      counter = {\n        value = value\n      }\n    }\n  end\n\"\"\"\n`}</code></pre>\n    <p>{`and then adjusting the timer handler`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\"\n      }}>{`timers = [{interval_seconds = 5, handler = \"\"\"\n  function (emit)\n    emit(make_counter(counter))\n    counter = 0\n  end\n\"\"\"}]\n`}</code></pre>\n    <p>{`and the `}<inlineCode parentName=\"p\">{`shutdown`}</inlineCode>{` hook:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\"\n      }}>{`hooks.shutdown = \"\"\"\n  function (emit)\n    emit(make_counter(counter))\n  end\n\"\"\"\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"keep-all-code-together\"\n    }}>{`Keep All Code Together`}</h2>\n    <p>{`The new config looks tidier, but in order to make it more readable, it is also possible to gather implementations of\nall functions into the `}<inlineCode parentName=\"p\">{`source`}</inlineCode>{` section, resulting in the following component declaration:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\",\n        \"metastring\": \"title=\\\"vector.toml\\\"\",\n        \"title\": \"\\\"vector.toml\\\"\"\n      }}>{`[transforms.aggregator]\ntype = \"lua\"\nversion = \"2\"\ninputs = [] # add names of the input components here\nhooks.init = \"init\"\nhooks.process = \"process\"\nhooks.shutdown = \"shutdown\"\ntimers = [{interval_seconds = 5, handler = \"timer_handler\"}]\n\nsource = \"\"\"\n  function init()\n    count = 0\n  end\n\n  function process()\n    count = count + 1\n  end\n\n  function timer_handler(emit)\n    emit(make_counter(counter))\n    counter = 0\n  end\n\n  function shutdown(emit)\n    emit(make_counter(counter))\n  end\n\n  function make_counter(value)\n    return metric = {\n      name = \"event_counter\",\n      kind = \"incremental\",\n      timestamp = os.date(\"!*t\"),\n      counter = {\n        value = value\n      }\n    }\n  end\n\"\"\"\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"a-loadable-module\"\n    }}>{`A Loadable Module`}</h2>\n    <p>{`As the Lua source grows, it becomes benefitial to place it into a separate file. One obvious advantage is the\npossiblity to use Lua syntax highlighting in the text editor. A less obvious one is the possibility to share\ncommon functionality between different scripted transforms using `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.lua.org/manual/5.3/manual.html#6.3\"\n      }}>{`loadable modules`}</a>{`.`}</p>\n    <p>{`There are many ways to use modules in Lua. The simplest one is to just use `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.lua.org/manual/5.3/manual.html#pdf-require\"\n      }}><inlineCode parentName=\"a\">{`require`}</inlineCode></a>{` function to\nevaluate code from a file, setting up some global variables.`}</p>\n    <p>{`With this approach the config from the previous section becomes split into two files:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-lua\",\n        \"metastring\": \"title=\\\"aggregator.lua\\\"\",\n        \"title\": \"\\\"aggregator.lua\\\"\"\n      }}>{`function init()\n  count = 0\nend\n\nfunction aggregator.process()\n  count = count + 1\nend\n\nfunction aggregator.timer_handler(emit)\n  emit(make_counter(counter))\n  counter = 0\nend\n\nfunction aggregator.shutdown(emit)\n  emit(make_counter(counter))\nend\n\nfunction aggregator.make_counter(value)\n  return metric = {\n    name = \"event_counter\",\n    kind = \"incremental\",\n    timestamp = os.date(\"!*t\"),\n    counter = {\n      value = value\n    }\n  }\nend\n`}</code></pre>\n    <p>{`and`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-toml\",\n        \"metastring\": \"title=\\\"vector.toml\\\"\",\n        \"title\": \"\\\"vector.toml\\\"\"\n      }}>{`[transforms.aggregator]\ntype = \"lua\"\nversion = \"2\"\ninputs = [] # add names of the input components here\nhooks.init = \"init\"\nhooks.process = \"process\"\nhooks.shutdown = \"shutdown\"\ntimers = [{interval_seconds = 5, handler = \"timer_handler\"}]\nsource = \"require('aggregator')\"\n`}</code></pre>\n    <p>{`There are also `}<a parentName=\"p\" {...{\n        \"href\": \"http://lua-users.org/wiki/ModulesTutorial\"\n      }}>{`other possibilities`}</a>{` to define Lua modules which do not require to use\nglobal variables, but they are not Vector-specific, and so out of scope of this guide.`}</p>\n    <h2 {...{\n      \"id\": \"conclusion\"\n    }}>{`Conclusion`}</h2>\n    <p>{`As you have witnessed by reading this guide, the power of Vector comes from its flexibility. In addition to\nproviding a `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/reference/transforms/\"\n      }}>{`rich set`}</a>{` of predefined transforms for building production-grade observability\npipelines, it makes it possible to write custom aggregations as Lua scripts. This allows each role of Vector\nin a `}<a parentName=\"p\" {...{\n        \"href\": \"/docs/setup/deployment/topologies/\"\n      }}>{`deployment topology`}</a>{` to perform various kinds of aggregations, providing\nalternatives to centralized logs aggregation.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n  "]}]}