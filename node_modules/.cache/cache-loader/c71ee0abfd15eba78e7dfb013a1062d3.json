{"remainingRequest":"/Users/Yun/Desktop/vdocs/website/new-docs/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/Yun/Desktop/vdocs/website/new-docs/src/exports/newPost.js","dependencies":[{"path":"/Users/Yun/Desktop/vdocs/website/new-docs/src/exports/newPost.js","mtime":1594780808782},{"path":"/Users/Yun/Desktop/vdocs/website/new-docs/node_modules/cache-loader/dist/cjs.js","mtime":1588759099254},{"path":"/Users/Yun/Desktop/vdocs/website/new-docs/node_modules/babel-loader/lib/index.js","mtime":1588759098876}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHVzZURvY3VzYXVydXNDb250ZXh0IGZyb20nQGRvY3VzYXVydXMvdXNlRG9jdXNhdXJ1c0NvbnRleHQnO2V4cG9ydCBmdW5jdGlvbiBmZXRjaE5ld1Bvc3QoKXtjb25zdCBjb250ZXh0PXVzZURvY3VzYXVydXNDb250ZXh0KCk7Y29uc3R7c2l0ZUNvbmZpZz17fX09Y29udGV4dDtjb25zdHttZXRhZGF0YTp7bGF0ZXN0X3Bvc3Q6bGF0ZXN0UG9zdH19PXNpdGVDb25maWcuY3VzdG9tRmllbGRzO2NvbnN0IGRhdGU9RGF0ZS5wYXJzZShsYXRlc3RQb3N0LmRhdGUpO2NvbnN0IG5vdz1uZXcgRGF0ZSgpO2NvbnN0IGRpZmZUaW1lPU1hdGguYWJzKG5vdy1kYXRlKTtjb25zdCBkaWZmRGF5cz1NYXRoLmNlaWwoZGlmZlRpbWUvKDEwMDAqNjAqNjAqMjQpKTtsZXQgdmlld2VkQXQ9bnVsbDtpZih0eXBlb2Ygd2luZG93IT09J3VuZGVmaW5lZCcpe3ZpZXdlZEF0PW5ldyBEYXRlKHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmxvZ1ZpZXdlZEF0Jyl8fCcwJykpO31pZihkaWZmRGF5czwzMCYmKCF2aWV3ZWRBdHx8dmlld2VkQXQ8ZGF0ZSkpe3JldHVybiBsYXRlc3RQb3N0O31yZXR1cm4gbnVsbDt9ZXhwb3J0IGZ1bmN0aW9uIHZpZXdlZE5ld1Bvc3QoKXtpZih0eXBlb2Ygd2luZG93IT09J3VuZGVmaW5lZCcpe3dpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmxvZ1ZpZXdlZEF0JyxuZXcgRGF0ZSgpLmdldFRpbWUoKSk7fX1leHBvcnQgZGVmYXVsdHtmZXRjaE5ld1Bvc3Qsdmlld2VkTmV3UG9zdH07"},{"version":3,"sources":["/Users/Yun/Desktop/vdocs/website/new-docs/src/exports/newPost.js"],"names":["useDocusaurusContext","fetchNewPost","context","siteConfig","metadata","latest_post","latestPost","customFields","date","Date","parse","now","diffTime","Math","abs","diffDays","ceil","viewedAt","window","parseInt","localStorage","getItem","viewedNewPost","setItem","getTime"],"mappings":"AAAA,MAAOA,CAAAA,oBAAP,KAAiC,kCAAjC,CAEA,MAAO,SAASC,CAAAA,YAAT,EAAwB,CAC7B,KAAMC,CAAAA,OAAO,CAAGF,oBAAoB,EAApC,CACA,KAAM,CAACG,UAAU,CAAG,EAAd,EAAoBD,OAA1B,CACA,KAAM,CAACE,QAAQ,CAAE,CAACC,WAAW,CAAEC,UAAd,CAAX,EAAwCH,UAAU,CAACI,YAAzD,CACA,KAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWJ,UAAU,CAACE,IAAtB,CAAb,CACA,KAAMG,CAAAA,GAAG,CAAG,GAAIF,CAAAA,IAAJ,EAAZ,CACA,KAAMG,CAAAA,QAAQ,CAAGC,IAAI,CAACC,GAAL,CAASH,GAAG,CAAGH,IAAf,CAAjB,CACA,KAAMO,CAAAA,QAAQ,CAAGF,IAAI,CAACG,IAAL,CAAUJ,QAAQ,EAAI,KAAO,EAAP,CAAY,EAAZ,CAAiB,EAArB,CAAlB,CAAjB,CAEA,GAAIK,CAAAA,QAAQ,CAAG,IAAf,CAEA,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjCD,QAAQ,CAAG,GAAIR,CAAAA,IAAJ,CAASU,QAAQ,CAACD,MAAM,CAACE,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,GAA+C,GAAhD,CAAjB,CAAX,CACD,CAED,GAAIN,QAAQ,CAAG,EAAX,GAAkB,CAACE,QAAD,EAAaA,QAAQ,CAAGT,IAA1C,CAAJ,CAAqD,CACnD,MAAOF,CAAAA,UAAP,CACD,CAED,MAAO,KAAP,CACD,CAED,MAAO,SAASgB,CAAAA,aAAT,EAAyB,CAC9B,GAAI,MAAOJ,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjCA,MAAM,CAACE,YAAP,CAAoBG,OAApB,CAA4B,cAA5B,CAA4C,GAAId,CAAAA,IAAJ,GAAWe,OAAX,EAA5C,EACD,CACF,CAED,cAAe,CAACvB,YAAD,CAAeqB,aAAf,CAAf","sourcesContent":["import useDocusaurusContext from '@docusaurus/useDocusaurusContext';\n\nexport function fetchNewPost() {\n  const context = useDocusaurusContext();\n  const {siteConfig = {}} = context;\n  const {metadata: {latest_post: latestPost}} = siteConfig.customFields;\n  const date = Date.parse(latestPost.date);\n  const now = new Date();\n  const diffTime = Math.abs(now - date);\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n  let viewedAt = null;\n\n  if (typeof window !== 'undefined') {\n    viewedAt = new Date(parseInt(window.localStorage.getItem('blogViewedAt') || '0'));\n  }\n\n  if (diffDays < 30 && (!viewedAt || viewedAt < date)) {\n    return latestPost;\n  }\n\n  return null;\n}\n\nexport function viewedNewPost() {\n  if (typeof window !== 'undefined') {\n    window.localStorage.setItem('blogViewedAt', new Date().getTime());\n  }\n}\n\nexport default {fetchNewPost, viewedNewPost};\n"]}]}