{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{222:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"frontMatter\",(function(){return u})),t.d(n,\"metadata\",(function(){return d})),t.d(n,\"rightToc\",(function(){return p})),t.d(n,\"default\",(function(){return f}));var a=t(1),l=t(6),r=(t(0),t(307)),i=t(314),o=t(309),s=t(310),c=t(312),m=t(311),u={last_modified_on:\"2020-07-13\",component_title:\"Rename Fields\",description:\"The Vector `rename_fields` transform accepts and outputs `log` events, allowing you to rename one or more log fields.\",event_types:[\"log\"],function_category:\"schema\",issues_url:\"https://github.com/timberio/vector/issues?q=is%3Aopen+is%3Aissue+label%3A%22transform%3A+rename_fields%22\",operating_systems:[\"Linux\",\"MacOS\",\"Windows\"],sidebar_label:'rename_fields|[\"log\"]',source_url:\"https://github.com/timberio/vector/tree/master/src/transforms/rename_fields.rs\",status:\"prod-ready\",title:\"Rename Fields Transform\",unsupported_operating_systems:[]},d={id:\"reference/transforms/rename_fields\",title:\"Rename Fields Transform\",description:\"The Vector `rename_fields` transform accepts and outputs `log` events, allowing you to rename one or more log fields.\",source:\"@site/docs/reference/transforms/rename_fields.md\",permalink:\"/docs/reference/transforms/rename_fields\",editUrl:\"https://github.com/nervosnetwork/muta/edit/master/website/docs/reference/transforms/rename_fields.md\",sidebar_label:'rename_fields|[\"log\"]'},p=[{value:\"Configuration\",id:\"configuration\",children:[{value:\"drop_empty\",id:\"drop_empty\",children:[]},{value:\"fields\",id:\"fields\",children:[]}]},{value:\"Examples\",id:\"examples\",children:[]},{value:\"How It Works\",id:\"how-it-works\",children:[{value:\"Complex Processing\",id:\"complex-processing\",children:[]},{value:\"Conflicts\",id:\"conflicts\",children:[]},{value:\"Environment Variables\",id:\"environment-variables\",children:[]}]}],b={rightToc:p};function f(e){var n=e.components,t=Object(l.a)(e,[\"components\"]);return Object(r.b)(\"wrapper\",Object(a.a)({},b,t,{components:n,mdxType:\"MDXLayout\"}),Object(r.b)(\"p\",null,\"The Vector \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"rename_fields\"),\" transform\\naccepts and outputs \",Object(r.b)(\"a\",Object(a.a)({parentName:\"p\"},{href:\"/docs/about/data-model/log/\"}),Object(r.b)(\"inlineCode\",{parentName:\"a\"},\"log\")),\" events, allowing you to rename\\none or more log fields.\"),Object(r.b)(\"h2\",{id:\"configuration\"},\"Configuration\"),Object(r.b)(c.a,{block:!0,defaultValue:\"common\",values:[{label:\"Common\",value:\"common\"},{label:\"Advanced\",value:\"advanced\"}],mdxType:\"Tabs\"},Object(r.b)(m.a,{value:\"common\",mdxType:\"TabItem\"},Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-toml\",metastring:'title=\"vector.toml\"',title:'\"vector.toml\"'}),'[transforms.my_transform_id]\\n  # General\\n  type = \"rename_fields\" # required\\n  inputs = [\"my-source-or-transform-id\"] # required\\n\\n  # Fields\\n  fields.old_field_name = \"new_field_name\" # example\\n  fields.parent.old_child_name = \"parent.new_child_name\" # example\\n'))),Object(r.b)(m.a,{value:\"advanced\",mdxType:\"TabItem\"},Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-toml\",metastring:'title=\"vector.toml\"',title:'\"vector.toml\"'}),'[transforms.my_transform_id]\\n  # General\\n  type = \"rename_fields\" # required\\n  inputs = [\"my-source-or-transform-id\"] # required\\n  drop_empty = false # optional, default\\n\\n  # Fields\\n  fields.old_field_name = \"new_field_name\" # example\\n  fields.parent.old_child_name = \"parent.new_child_name\" # example\\n')))),Object(r.b)(o.a,{filters:!0,mdxType:\"Fields\"},Object(r.b)(s.a,{common:!1,defaultValue:!1,enumValues:null,examples:[!1,!0],groups:[],name:\"drop_empty\",path:null,relevantWhen:null,required:!1,templateable:!1,type:\"bool\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h3\",{id:\"drop_empty\"},\"drop_empty\"),Object(r.b)(\"p\",null,\"If set to \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"true\"),\", after renaming fields, remove any parent objects of the old\\nfield that are now empty.\")),Object(r.b)(s.a,{common:!0,defaultValue:null,enumValues:null,examples:[],groups:[],name:\"fields\",path:null,relevantWhen:null,required:!0,templateable:!1,type:\"table\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h3\",{id:\"fields\"},\"fields\"),Object(r.b)(\"p\",null,\"A table of old-key/new-key pairs representing the keys to be moved in the event.\"),Object(r.b)(o.a,{filters:!1,mdxType:\"Fields\"},Object(r.b)(s.a,{common:!0,defaultValue:null,enumValues:null,examples:[{old_field_name:\"new_field_name\"},{parent:{old_child_name:\"parent.new_child_name\"}}],groups:[],name:\"`[field-name]`\",path:\"fields\",relevantWhen:null,required:!0,templateable:!1,type:\"*\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h4\",{id:\"field-name\"},Object(r.b)(\"inlineCode\",{parentName:\"h4\"},\"[field-name]\")),Object(r.b)(\"p\",null,\"Old-key/New-key pair reprsenting the key to be moved.\"))))),Object(r.b)(\"h2\",{id:\"examples\"},\"Examples\"),Object(r.b)(\"p\",null,\"Given the following \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"log\"),\" event:\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-js\"}),'{\\n  // ...\\n  \"old_field\": \"root_value\",\\n  \"old_nested\": {\\n    \"nested\": \"nested_value\"\\n  }\\n  // ...\\n}\\n')),Object(r.b)(\"p\",null,\"And a Vector configuration like:\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-toml\",metastring:'title=\"vector.toml\"',title:'\"vector.toml\"'}),'[transforms.my_transform]\\n  type = \"rename_fields\"\\n  inputs = [...]\\n\\n  fields.old_field = \"new_field\"\\n  fields.old_nested.nested = \"new_nested.nested\",\\n')),Object(r.b)(\"p\",null,\"Will result in the following \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"log\"),\" event:\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-js\"}),'{\\n  // ...\\n  \"new_field\": \"root_value\",\\n  \"new_nested\": {\\n    \"nested\": \"nested_value\"\\n  }\\n  // ...\\n}\\n')),Object(r.b)(\"h2\",{id:\"how-it-works\"},\"How It Works\"),Object(r.b)(\"h3\",{id:\"complex-processing\"},\"Complex Processing\"),Object(r.b)(\"p\",null,\"If you encounter limitations with the \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"rename_fields\"),\"\\ntransform then we recommend using a \",Object(r.b)(\"a\",Object(a.a)({parentName:\"p\"},{href:\"https://vector.dev/components/?functions%5B%5D=program\"}),\"runtime transform\"),\".\\nThese transforms are designed for complex processing and give you the power of\\nfull programming runtime.\"),Object(r.b)(\"h3\",{id:\"conflicts\"},\"Conflicts\"),Object(r.b)(\"h4\",{id:\"key-conflicts\"},\"Key Conflicts\"),Object(r.b)(\"p\",null,\"Keys specified in this transform will replace existing keys.\"),Object(r.b)(i.a,{type:\"warning\",mdxType:\"Alert\"},Object(r.b)(\"p\",null,\"Please note. Vector makes no guarantee on the order of execution. If two rename\\noperations must be performed in a specific order, it is recommended to split\\nthem up across two separate rename transforms.\")),Object(r.b)(\"h4\",{id:\"nested-key-conflicts\"},\"Nested Key Conflicts\"),Object(r.b)(\"p\",null,\"Keys are renamed in a deep fashion. They will not replace any ancestor\\nobjects. For example, given the following \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"log\"),\" event:\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-javascript\"}),'{\\n  \"root\": \"value2\",\\n  \"parent\": {\\n    \"child1\": \"value1\"\\n  }\\n}\\n')),Object(r.b)(\"p\",null,\"And the following configuration:\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-toml\"}),'[transforms.rename_nested_field]\\n  type = \"rename_fields\"\\n  fields.root = \"parent.child2\"\\n')),Object(r.b)(\"p\",null,\"Will result in the following log event:\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-javascript\"}),'{\\n  \"parent\": {\\n    \"child1\": \"value1\",\\n    \"child2\": \"value2\"\\n  }\\n}\\n')),Object(r.b)(\"p\",null,\"Notice that \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"parent.child1\"),\" field was preserved.\"),Object(r.b)(\"h3\",{id:\"environment-variables\"},\"Environment Variables\"),Object(r.b)(\"p\",null,\"Environment variables are supported through all of Vector's configuration.\\nSimply add \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"${MY_ENV_VAR}\"),\" in your Vector configuration file and the variable\\nwill be replaced before being evaluated.\"),Object(r.b)(\"p\",null,\"You can learn more in the\\n\",Object(r.b)(\"a\",Object(a.a)({parentName:\"p\"},{href:\"/docs/setup/configuration/#environment-variables\"}),\"Environment Variables\"),\" section.\"))}f.isMDXComponent=!0},309:function(e,n,t){\"use strict\";t(12);var a=t(0),l=t.n(a),r=t(318),i=t(317),o=t(316),s=t.n(o);n.a=function({children:e,filters:n}){const[t,o]=Object(a.useState)(!1),[c,m]=Object(a.useState)(new Set),[u,d]=Object(a.useState)(!1),[p,b]=Object(a.useState)(null);let f=[];e&&(f=Array.isArray(e)?e:[e]);let g=f.some(e=>e.props.common),h=s()(f).flatMap(e=>e.props.groups).uniq().value(),v=f.some(e=>e.props.required),j=f;return t&&(j=j.filter(e=>e.props.common)),c.size>0&&(j=j.filter(e=>Array.from(c).every(n=>e.props.groups.includes(n)))),u&&(j=j.filter(e=>e.props.required)),p&&(j=j.filter(e=>e.props.name.toLowerCase().includes(p.toLowerCase()))),l.a.createElement(l.a.Fragment,null,f.length>1&&!1!==n?l.a.createElement(\"div\",{className:\"filters\"},l.a.createElement(\"div\",{className:\"search\"},l.a.createElement(\"span\",{className:\"search--result-count\"},j.length,\" items\"),l.a.createElement(\"input\",{className:\"input--text input--lg\",type:\"text\",onChange:e=>b(e.currentTarget.value),placeholder:\"\\ud83d\\udd0d Search...\"})),l.a.createElement(\"div\",{className:\"filter\"},l.a.createElement(\"div\",{className:\"filter--choices\"},l.a.createElement(r.a,{values:h,currentState:c,setState:m}),g&&l.a.createElement(\"label\",{title:\"Only show popular/common results\"},l.a.createElement(\"input\",{type:\"checkbox\",onChange:e=>o(e.currentTarget.checked),checked:t}),\"common\"),v&&l.a.createElement(\"label\",{title:\"Only show required results\"},l.a.createElement(\"input\",{type:\"checkbox\",onChange:e=>d(e.currentTarget.checked),checked:u}),\"required\")))):null,!Array.isArray(j)||j.length>0?l.a.createElement(\"ul\",{className:\"connected-list\"},j):l.a.createElement(i.a,{text:\"no components found\"}))}},310:function(e,n,t){\"use strict\";t(12);var a=t(0),l=t.n(a),r=t(306),i=t.n(r),o=(t(307),t(315));function s(e){return e.includes(\".\")?'\"'+e+'\"':e}function c(e){return\"string\"==typeof e&&e.includes(\"\\n\")?`\"\"\"\\n${e}\\n\"\"\"`:JSON.stringify(e)}function m(e,n){return(t=n)&&t.constructor===Object?\"name\"in n&&\"value\"in n?`${s(n.name)} = ${c(n.value)}`:`${s(Object.keys(n)[0])} = ${c(Object.values(n)[0])}`:e?`${s(e)} = ${c(n)}`:c(n);var t}function u({values:e}){let n=[];if(Array.isArray(e))for(var t in e){let a=e[t];n.push(l.a.createElement(\"code\",{key:a},c(a))),n.push(\" \")}else for(var a in e)n.push(l.a.createElement(\"code\",{key:a,className:\"with-info-icon\",title:e[a]},c(a))),n.push(\" \");return n}function d({name:e,path:n,values:t}){let a=\"\";return t.forEach((function(t){n&&(a+=n+\".\"),a+=m(e,t)+\"\\n\"})),l.a.createElement(\"div\",null,l.a.createElement(o.a,{className:\"language-toml\"},a))}function p({unit:e,value:n}){let t=\"\";return e&&(t=l.a.createElement(l.a.Fragment,null,\" (\",e,\")\")),l.a.createElement(l.a.Fragment,null,l.a.createElement(\"code\",null,c(n)),t)}function b({value:e}){let n=Object.keys(e)[0],t=Object.values(e)[0];return\"\"==t&&(t=null),l.a.createElement(\"span\",null,l.a.createElement(\"code\",null,l.a.createElement(\"a\",{href:\"#\"+n},n)),\" \",\"= \",l.a.createElement(\"code\",null,c(t)))}function f({defaultValue:e,enumValues:n,examples:t,groups:r,name:i,path:o,relevantWhen:s,required:c,unit:m,warnings:f}){const[g,h]=Object(a.useState)(!1);return l.a.createElement(\"ul\",{className:\"info\"},f&&f.length>0&&f.map((e,n)=>l.a.createElement(\"li\",{key:n,className:\"warning\"},l.a.createElement(\"i\",{className:\"feather icon-alert-triangle\"}),\" WARNING:\",\" \",e.text)),s&&l.a.createElement(\"li\",null,\"Only \",c?\"required\":\"relevant\",\" when:\",\" \",l.a.createElement(b,{value:s})),void 0!==e?null!==e?l.a.createElement(\"li\",null,\"Default: \",l.a.createElement(p,{unit:m,value:e})):l.a.createElement(\"li\",null,\"No default\"):null,n&&l.a.createElement(\"li\",null,\"Enum, must be one of: \",l.a.createElement(u,{values:n})),(t.length>1||t[0]!=e)&&l.a.createElement(\"li\",null,l.a.createElement(\"div\",{className:\"show-more\",onClick:()=>h(!g)},g?\"Hide examples\":\"View examples\"),g&&l.a.createElement(d,{name:i,path:o,values:t})))}n.a=function({children:e,common:n,defaultValue:t,enumValues:r,examples:o,groups:s,name:c,path:m,relevantWhen:u,required:d,templateable:p,type:b,unit:g,warnings:h}){const[v,j]=Object(a.useState)(!1);let O=e;return v&&(O=O.filter(e=>\"p\"!=e.props.originalType)),l.a.createElement(\"li\",{className:i()({\"field-required\":d,\"field-collapsed\":v}),required:d},l.a.createElement(\"div\",{className:\"badges\"},p&&l.a.createElement(\"span\",{className:\"badge badge--primary with-info-icon\",title:\"This option is dynamic and accepts the Vector template syntax\"},\"templateable\"),b&&l.a.createElement(\"span\",{className:\"badge badge--secondary\"},b,g&&l.a.createElement(l.a.Fragment,null,\" (\",g,\")\")),r&&Object.keys(r).length>0&&l.a.createElement(\"span\",{className:\"badge badge--secondary with-info-icon\",title:\"This option is an enumation and only allows specific values\"},\"enum\"),n&&l.a.createElement(\"span\",{className:\"badge badge--primary with-info-icon\",title:\"This is a popular that we recommend for getting started\"},\"common\"),d?l.a.createElement(\"span\",{className:\"badge badge--danger\"},\"required\",u&&\"*\"):l.a.createElement(\"span\",{className:\"badge badge--secondary\"},\"optional\")),O,!v&&\"table\"!=b&&l.a.createElement(f,{defaultValue:t,enumValues:r,examples:o,groups:s,name:c,path:m,relevantWhen:u,required:d,unit:g,warnings:h}))}},314:function(e,n,t){\"use strict\";var a=t(0),l=t.n(a),r=t(306),i=t.n(r);t(93);n.a=function({children:e,className:n,fill:t,icon:a,rounded:r,type:o}){let s=null;switch(o){case\"danger\":s=\"alert-triangle\";break;case\"success\":s=\"check-circle\";break;case\"warning\":s=\"alert-triangle\";break;default:s=\"info\"}return l.a.createElement(\"div\",{className:i()(n,\"alert\",\"alert--\"+o,{\"alert--fill\":t,\"alert--icon\":!1!==a,\"alert--rounded\":!0===r}),role:\"alert\"},!1!==a&&l.a.createElement(\"i\",{className:i()(\"feather\",\"icon-\"+(a||s))}),e)}}}]);","extractedComments":[]}