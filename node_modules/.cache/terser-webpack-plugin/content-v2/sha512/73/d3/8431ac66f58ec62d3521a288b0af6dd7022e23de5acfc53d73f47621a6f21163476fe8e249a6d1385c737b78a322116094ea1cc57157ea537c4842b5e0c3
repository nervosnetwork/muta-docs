{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{168:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"frontMatter\",(function(){return s})),a.d(t,\"metadata\",(function(){return u})),a.d(t,\"rightToc\",(function(){return b})),a.d(t,\"default\",(function(){return d}));var n=a(1),r=a(6),l=(a(0),a(195)),o=a(197),c=a(209),i=a(208),s={last_modified_on:\"2020-07-13\",$schema:\"/.meta/.schemas/guides.json\",title:\"Troubleshooting\",description:\"A guide on debugging and troubleshooting Vector\",author_github:\"https://github.com/zhouyun-zoe\",tags:[\"type: guide\",\"domain: operations\"]},u={categories:[{name:\"advanced\",title:\"Advanced\",description:\"Go the basics, become a Vector pro, and extract the full potential of Vector.\",permalink:\"/guides/advanced\"}],coverLabel:\"Troubleshooting\",description:\"A guide on debugging and troubleshooting Vector\",permalink:\"/guides/advanced/troubleshooting\",readingTime:\"3 min read\",source:\"@site/guides/advanced/troubleshooting.md\",tags:[{label:\"type: guide\",permalink:\"/guides/tags/type-guide\"},{label:\"domain: operations\",permalink:\"/guides/tags/domain-operations\"}],title:\"Troubleshooting\",truncated:!1,prevItem:{title:\"Merge multi-line logs with Lua\",permalink:\"/guides/advanced/merge-multiline-logs-with-lua\"},nextItem:{title:\"Unit Testing Your Configs\",permalink:\"/guides/advanced/unit-testing\"}},b=[{value:\"1. Check for any known issues\",id:\"1-check-for-any-known-issues\",children:[]},{value:\"2. Check Vector&#39;s logs\",id:\"2-check-vectors-logs\",children:[]},{value:\"3. Enable backtraces\",id:\"3-enable-backtraces\",children:[]},{value:\"4. Enable debug logging\",id:\"4-enable-debug-logging\",children:[]},{value:\"5. Get help\",id:\"5-get-help\",children:[]}],p={rightToc:b};function d(e){var t=e.components,a=Object(r.a)(e,[\"components\"]);return Object(l.b)(\"wrapper\",Object(n.a)({},p,a,{components:t,mdxType:\"MDXLayout\"}),Object(l.b)(\"p\",null,\"This guide covers troubleshooting Vector. The sections are intended to be\\nfollowed in order.\"),Object(l.b)(\"p\",null,\"First, we're sorry to hear that you are having trouble with Vector. Reliability\\nand operator friendliness are \",Object(l.b)(\"em\",{parentName:\"p\"},\"very\"),\" important to us, and we urge you to\\n\",Object(l.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"https://github.com/timberio/vector/issues/new?labels=type%3A+bug\"}),\"open an issue\"),\" to let us know what's going on. This helps\\nus improve Vector.\"),Object(l.b)(\"h2\",{id:\"1-check-for-any-known-issues\"},\"1. Check for any known issues\"),Object(l.b)(\"p\",null,\"Start by searching \",Object(l.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"https://github.com/timberio/vector/issues\"}),\"Vector's issues\"),\". You can filter\\nto the specific component via the \",Object(l.b)(\"inlineCode\",{parentName:\"p\"},\"lable\"),\" filter.\"),Object(l.b)(\"h2\",{id:\"2-check-vectors-logs\"},\"2. Check Vector's logs\"),Object(l.b)(\"p\",null,\"We've taken great care to ensure Vector's logs are high-quality and helpful.\\nIn most cases the logs will surface the issue:\"),Object(l.b)(c.a,{block:!0,defaultValue:\"manual\",values:[{label:\"Manual\",value:\"manual\"},{label:\"Systemd\",value:\"systemd\"},{label:\"Initd\",value:\"initd\"},{label:\"Homebrew\",value:\"homebrew\"}],mdxType:\"Tabs\"},Object(l.b)(i.a,{value:\"manual\",mdxType:\"TabItem\"},Object(l.b)(\"p\",null,\"If you are not using a service manager, and you're redirecting Vector's\\noutput to a file then you can use a utility like \",Object(l.b)(\"inlineCode\",{parentName:\"p\"},\"tail\"),\" to access your logs:\"),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-bash\"}),\"tail /var/log/vector.log\\n\"))),Object(l.b)(i.a,{value:\"systemd\",mdxType:\"TabItem\"},Object(l.b)(\"p\",null,\"Tail logs:\"),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-bash\"}),\"sudo journalctl -fu vector\\n\"))),Object(l.b)(i.a,{value:\"initd\",mdxType:\"TabItem\"},Object(l.b)(\"p\",null,\"Tail logs:\"),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-bash\"}),\"tail -f /var/log/vector.log\\n\"))),Object(l.b)(i.a,{value:\"homebrew\",mdxType:\"TabItem\"},Object(l.b)(\"p\",null,\"Tail logs:\"),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-bash\"}),\"tail -f /usr/local/var/log/vector.log\\n\")))),Object(l.b)(\"h2\",{id:\"3-enable-backtraces\"},\"3. Enable backtraces\"),Object(l.b)(o.a,{type:\"info\",mdxType:\"Alert\"},Object(l.b)(\"p\",null,\"You can skip to the \",Object(l.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"#3-enable-debug-logging\"}),\"next section\"),\" if you do not\\nhave an exception in your logs.\")),Object(l.b)(\"p\",null,\"If you see an exception in Vector's logs then we've clearly found the issue.\\nBefore you report a bug, please enable backtraces:\"),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-bash\"}),\"RUST_BACKTRACE=full vector --config=/etc/vector/vector.toml\\n\")),Object(l.b)(\"p\",null,\"Backtraces are \",Object(l.b)(\"em\",{parentName:\"p\"},\"critical\"),\" for debugging errors. Once you have the backtrace\\nplease \",Object(l.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"https://github.com/timberio/vector/issues/new?labels=type%3A+bug\"}),\"open a bug report issue\"),\".\"),Object(l.b)(\"h2\",{id:\"4-enable-debug-logging\"},\"4. Enable debug logging\"),Object(l.b)(\"p\",null,\"If you do not see an error in your Vector logs, and the Vector logs appear\\nto be frozen, then you'll want to drop your log level to \",Object(l.b)(\"inlineCode\",{parentName:\"p\"},\"debug\"),\":\"),Object(l.b)(o.a,{type:\"info\",mdxType:\"Alert\"},Object(l.b)(\"p\",null,\"Vector \",Object(l.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"/docs/administration/monitoring/#rate-limiting\"}),\"rate limits\"),\" logs in the hot path.\\nAs a result, dropping to the \",Object(l.b)(\"inlineCode\",{parentName:\"p\"},\"debug\"),\" level is safe for production environments.\")),Object(l.b)(c.a,{block:!0,defaultValue:\"env_var\",values:[{label:\"Env Var\",value:\"env_var\"},{label:\"Flag\",value:\"flag\"}],mdxType:\"Tabs\"},Object(l.b)(i.a,{value:\"env_var\",mdxType:\"TabItem\"},Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-bash\"}),\"LOG=debug vector --config=/etc/vector/vector.toml\\n\"))),Object(l.b)(i.a,{value:\"flag\",mdxType:\"TabItem\"},Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-bash\"}),\"vector --verbose --config=/etc/vector/vector.toml\\n\")))),Object(l.b)(\"h2\",{id:\"5-get-help\"},\"5. Get help\"),Object(l.b)(\"p\",null,\"At this point we recommend reaching out to the community for help.\"),Object(l.b)(\"ol\",null,Object(l.b)(\"li\",{parentName:\"ol\"},\"If encountered a bug, please \",Object(l.b)(\"a\",Object(n.a)({parentName:\"li\"},{href:\"https://github.com/timberio/vector/issues/new?labels=type%3A+bug\"}),\"file a bug report\")),Object(l.b)(\"li\",{parentName:\"ol\"},\"If encountered a missing feature, please \",Object(l.b)(\"a\",Object(n.a)({parentName:\"li\"},{href:\"https://github.com/timberio/vector/issues/new?labels=type%3A+new+feature\"}),\"file a feature request\"),\".\"),Object(l.b)(\"li\",{parentName:\"ol\"},\"If you need help, \",Object(l.b)(\"a\",Object(n.a)({parentName:\"li\"},{href:\"https://chat.vector.dev\"}),\"join our chat community\"),\". You can post a question and search previous questions.\")))}d.isMDXComponent=!0},192:function(e,t,a){var n;!function(){\"use strict\";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if(\"string\"===l||\"number\"===l)e.push(n);else if(Array.isArray(n)&&n.length){var o=r.apply(null,n);o&&e.push(o)}else if(\"object\"===l)for(var c in n)a.call(n,c)&&n[c]&&e.push(c)}}return e.join(\" \")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},195:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return b})),a.d(t,\"b\",(function(){return g}));var n=a(0),r=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=r.a.createContext({}),u=function(e){var t=r.a.useContext(s),a=t;return e&&(a=\"function\"==typeof e?e(t):c({},t,{},e)),a},b=function(e){var t=u(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:\"code\",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,o=e.parentName,s=i(e,[\"components\",\"mdxType\",\"originalType\",\"parentName\"]),b=u(a),d=n,g=b[\"\".concat(o,\".\").concat(d)]||b[d]||p[d]||l;return a?r.a.createElement(g,c({ref:t},s,{components:a})):r.a.createElement(g,c({ref:t},s))}));function g(e,t){var a=arguments,n=t&&t.mdxType;if(\"string\"==typeof e||n){var l=a.length,o=new Array(l);o[0]=d;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType=\"string\"==typeof e?e:n,o[1]=c;for(var s=2;s<l;s++)o[s]=a[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}d.displayName=\"MDXCreateElement\"},197:function(e,t,a){\"use strict\";var n=a(0),r=a.n(n),l=a(192),o=a.n(l);a(93);t.a=function({children:e,className:t,fill:a,icon:n,rounded:l,type:c}){let i=null;switch(c){case\"danger\":i=\"alert-triangle\";break;case\"success\":i=\"check-circle\";break;case\"warning\":i=\"alert-triangle\";break;default:i=\"info\"}return r.a.createElement(\"div\",{className:o()(t,\"alert\",\"alert--\"+c,{\"alert--fill\":a,\"alert--icon\":!1!==n,\"alert--rounded\":!0===l}),role:\"alert\"},!1!==n&&r.a.createElement(\"i\",{className:o()(\"feather\",\"icon-\"+(n||i))}),e)}},208:function(e,t,a){\"use strict\";var n=a(0),r=a.n(n);t.a=function(e){return r.a.createElement(r.a.Fragment,null,e.children)}},209:function(e,t,a){\"use strict\";var n=a(1),r=(a(12),a(0)),l=a.n(r),o=a(232),c=a(192),i=a.n(c),s=a(224),u=a.n(s),b=a(241);const p=37,d=39;function g({block:e,centered:t,changeSelectedValue:a,className:n,handleKeydown:r,style:o,values:c,selectedValue:s,tabRefs:u}){return l.a.createElement(\"div\",{className:t?\"tabs--centered\":null},l.a.createElement(\"ul\",{role:\"tablist\",\"aria-orientation\":\"horizontal\",className:i()(\"tabs\",n,{\"tabs--block\":e}),style:o},c.map(({value:e,label:t})=>l.a.createElement(\"li\",{role:\"tab\",tabIndex:\"0\",\"aria-selected\":s===e,className:i()(\"tab-item\",{\"tab-item--active\":s===e}),key:e,ref:e=>u.push(e),onKeyDown:e=>r(u,e.target,e),onFocus:()=>a(e),onClick:()=>a(e)},t))))}function m({placeholder:e,selectedValue:t,changeSelectedValue:a,size:n,values:r}){let c=r;if(c[0].group){let e=_.groupBy(c,\"group\");c=Object.keys(e).map(t=>({label:t,options:e[t]}))}return l.a.createElement(o.a,{className:\"react-select-container react-select--\"+n,classNamePrefix:\"react-select\",options:c,isClearable:t,placeholder:e,value:r.find(e=>e.value==t),onChange:e=>a(e?e.value:null)})}t.a=function(e){const{block:t,centered:a,children:o,defaultValue:c,groupId:i,label:s,placeholder:h,select:f,size:v,style:O,values:y,urlKey:j}=e,{tabGroupChoices:w,setTabGroupChoices:k}=Object(b.a)(),[N,T]=Object(r.useState)(c);if(null!=i){const e=w[i];null!=e&&e!==N&&T(e)}const x=e=>{T(e),null!=i&&k(i,e)},E=[],V=(e,t,a)=>{switch(a.keyCode){case d:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case p:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}};return Object(r.useEffect)(()=>{if(\"undefined\"!=typeof window&&window.location&&j){let e=u.a.parse(window.location.search);e[j]&&T(e[j])}},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(\"div\",{className:\"margin-bottom--\"+(v||\"md\")},s&&l.a.createElement(\"div\",{className:\"margin-vert--sm\"},s),y.length>1&&(f?l.a.createElement(m,Object(n.a)({changeSelectedValue:x,handleKeydown:V,placeholder:h,selectedValue:N,size:v,tabRefs:E},e)):l.a.createElement(g,Object(n.a)({changeSelectedValue:x,handleKeydown:V,selectedValue:N,tabRefs:E},e)))),r.Children.toArray(o).filter(e=>e.props.value===N)[0])}},237:function(e,t,a){\"use strict\";var n=a(0);const r=Object(n.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{}});t.a=r}}]);","extractedComments":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/"]}