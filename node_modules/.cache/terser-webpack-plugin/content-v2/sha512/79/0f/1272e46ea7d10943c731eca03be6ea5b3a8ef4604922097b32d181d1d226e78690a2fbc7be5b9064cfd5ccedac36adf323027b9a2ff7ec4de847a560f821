{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{123:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"frontMatter\",(function(){return m})),a.d(t,\"metadata\",(function(){return d})),a.d(t,\"rightToc\",(function(){return p})),a.d(t,\"default\",(function(){return h}));var n=a(1),l=a(6),r=(a(0),a(307)),i=a(314),s=a(309),o=a(310),c=a(312),u=a(311),m={last_modified_on:\"2020-07-13\",delivery_guarantee:\"at_least_once\",component_title:\"HTTP\",description:\"The Vector `http` source ingests data through the HTTP protocol and outputs `log` events.\",event_types:[\"log\"],function_category:\"receive\",issues_url:\"https://github.com/timberio/vector/issues?q=is%3Aopen+is%3Aissue+label%3A%22source%3A+http%22\",operating_systems:[\"Linux\",\"MacOS\",\"Windows\"],sidebar_label:'http|[\"log\"]',source_url:\"https://github.com/timberio/vector/tree/master/src/sources/http.rs\",status:\"beta\",title:\"HTTP Source\",unsupported_operating_systems:[]},d={id:\"reference/sources/http\",title:\"HTTP Source\",description:\"The Vector `http` source ingests data through the HTTP protocol and outputs `log` events.\",source:\"@site/docs/reference/sources/http.md\",permalink:\"/docs/reference/sources/http\",editUrl:\"https://github.com/nervosnetwork/muta/edit/master/website/docs/reference/sources/http.md\",sidebar_label:'http|[\"log\"]'},p=[{value:\"Requirements\",id:\"requirements\",children:[]},{value:\"Configuration\",id:\"configuration\",children:[{value:\"address\",id:\"address\",children:[]},{value:\"encoding\",id:\"encoding\",children:[]},{value:\"headers\",id:\"headers\",children:[]},{value:\"tls\",id:\"tls\",children:[]}]},{value:\"Fields\",id:\"fields\",children:[{value:\"message\",id:\"message\",children:[]},{value:\"timestamp\",id:\"timestamp\",children:[]}]},{value:\"How It Works\",id:\"how-it-works\",children:[{value:\"Environment Variables\",id:\"environment-variables\",children:[]},{value:\"TLS\",id:\"tls-1\",children:[]}]}],b={rightToc:p};function h(e){var t=e.components,a=Object(l.a)(e,[\"components\"]);return Object(r.b)(\"wrapper\",Object(n.a)({},b,a,{components:t,mdxType:\"MDXLayout\"}),Object(r.b)(\"p\",null,\"The Vector \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"http\"),\" source\\ningests data through the \",Object(r.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"https://www.w3.org/Protocols/\"}),\"HTTP protocol\"),\" and outputs\\n\",Object(r.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"/docs/about/data-model/log/\"}),Object(r.b)(\"inlineCode\",{parentName:\"a\"},\"log\")),\" events.\"),Object(r.b)(\"h2\",{id:\"requirements\"},\"Requirements\"),Object(r.b)(i.a,{icon:!1,type:\"danger\",className:\"list--icons list--icons--warnings\",mdxType:\"Alert\"},Object(r.b)(\"ul\",null,Object(r.b)(\"li\",{parentName:\"ul\"},\"This component exposes a configured port. You must ensure your network allows access to this port.\"))),Object(r.b)(\"h2\",{id:\"configuration\"},\"Configuration\"),Object(r.b)(c.a,{block:!0,defaultValue:\"common\",values:[{label:\"Common\",value:\"common\"},{label:\"Advanced\",value:\"advanced\"}],mdxType:\"Tabs\"},Object(r.b)(u.a,{value:\"common\",mdxType:\"TabItem\"},Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-toml\",metastring:'title=\"vector.toml\"',title:'\"vector.toml\"'}),'[sources.my_source_id]\\n  type = \"http\" # required\\n  address = \"0.0.0.0:80\" # required\\n  encoding = \"text\" # optional, default\\n  headers = [\"User-Agent\", \"X-My-Custom-Header\"] # optional, no default\\n'))),Object(r.b)(u.a,{value:\"advanced\",mdxType:\"TabItem\"},Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-toml\",metastring:'title=\"vector.toml\"',title:'\"vector.toml\"'}),'[sources.my_source_id]\\n  # General\\n  type = \"http\" # required\\n  address = \"0.0.0.0:80\" # required\\n  encoding = \"text\" # optional, default\\n  headers = [\"User-Agent\", \"X-My-Custom-Header\"] # optional, no default\\n\\n  # TLS\\n  tls.ca_file = \"/path/to/certificate_authority.crt\" # optional, no default\\n  tls.crt_file = \"/path/to/host_certificate.crt\" # optional, no default\\n  tls.enabled = false # optional, default\\n  tls.key_file = \"/path/to/host_certificate.key\" # optional, no default\\n  tls.key_pass = \"${KEY_PASS_ENV_VAR}\" # optional, no default\\n  tls.verify_certificate = false # optional, default\\n')))),Object(r.b)(s.a,{filters:!0,mdxType:\"Fields\"},Object(r.b)(o.a,{common:!0,defaultValue:null,enumValues:null,examples:[\"0.0.0.0:80\",\"localhost:80\"],groups:[],name:\"address\",path:null,relevantWhen:null,required:!0,templateable:!1,type:\"string\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h3\",{id:\"address\"},\"address\"),Object(r.b)(\"p\",null,\"The address to listen for connections on\")),Object(r.b)(o.a,{common:!0,defaultValue:\"text\",enumValues:{text:\"Newline-delimited text, with each line forming a message.\",ndjson:\"Newline-delimited JSON objects, where each line must contain a JSON object.\",json:\"Array of JSON objects, which must be a JSON array containing JSON objects.\"},examples:[\"text\",\"ndjson\",\"json\"],groups:[],name:\"encoding\",path:null,relevantWhen:null,required:!1,templateable:!1,type:\"string\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h3\",{id:\"encoding\"},\"encoding\"),Object(r.b)(\"p\",null,\"The expected encoding of received data. Note that for \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"json\"),\" and \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"ndjson\"),\"\\nencodings, the fields of the JSON objects are output as separate fields.\")),Object(r.b)(o.a,{common:!0,defaultValue:null,enumValues:null,examples:[[\"User-Agent\",\"X-My-Custom-Header\"]],groups:[],name:\"headers\",path:null,relevantWhen:null,required:!1,templateable:!1,type:\"[string]\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h3\",{id:\"headers\"},\"headers\"),Object(r.b)(\"p\",null,\"A list of HTTP headers to include in the log event. These will override any\\nvalues included in the JSON payload with conflicting names. An empty string\\nwill be inserted into the log event if the corresponding HTTP header was\\nmissing.\")),Object(r.b)(o.a,{common:!1,defaultValue:null,enumValues:null,examples:[],groups:[],name:\"tls\",path:null,relevantWhen:null,required:!1,templateable:!1,type:\"table\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h3\",{id:\"tls\"},\"tls\"),Object(r.b)(\"p\",null,\"Configures the TLS options for connections from this source.\"),Object(r.b)(s.a,{filters:!1,mdxType:\"Fields\"},Object(r.b)(o.a,{common:!1,defaultValue:null,enumValues:null,examples:[\"/path/to/certificate_authority.crt\"],groups:[],name:\"ca_file\",path:\"tls\",relevantWhen:null,required:!1,templateable:!1,type:\"string\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h4\",{id:\"ca_file\"},\"ca_file\"),Object(r.b)(\"p\",null,\"Absolute path to an additional CA certificate file, in DER or PEM format\\n(X.509), or an inline CA certificate in PEM format.\")),Object(r.b)(o.a,{common:!0,defaultValue:null,enumValues:null,examples:[\"/path/to/host_certificate.crt\"],groups:[],name:\"crt_file\",path:\"tls\",relevantWhen:null,required:!1,templateable:!1,type:\"string\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h4\",{id:\"crt_file\"},\"crt_file\"),Object(r.b)(\"p\",null,\"Absolute path to a certificate file used to identify this server, in DER or PEM\\nformat (X.509) or PKCS#12, or an inline certificate in PEM format. If this is\\nset and is not a PKCS#12 archive, \",Object(r.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"#key_file\"}),Object(r.b)(\"inlineCode\",{parentName:\"a\"},\"key_file\")),\" must also be set. This is required\\nif \",Object(r.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"#enabled\"}),Object(r.b)(\"inlineCode\",{parentName:\"a\"},\"enabled\")),\" is set to \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"true\"),\".\")),Object(r.b)(o.a,{common:!0,defaultValue:!1,enumValues:null,examples:[!1,!0],groups:[],name:\"enabled\",path:\"tls\",relevantWhen:null,required:!1,templateable:!1,type:\"bool\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h4\",{id:\"enabled\"},\"enabled\"),Object(r.b)(\"p\",null,\"Require TLS for incoming connections. If this is set, an identity certificate\\nis also required.\")),Object(r.b)(o.a,{common:!0,defaultValue:null,enumValues:null,examples:[\"/path/to/host_certificate.key\"],groups:[],name:\"key_file\",path:\"tls\",relevantWhen:null,required:!1,templateable:!1,type:\"string\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h4\",{id:\"key_file\"},\"key_file\"),Object(r.b)(\"p\",null,\"Absolute path to a private key file used to identify this server, in DER or PEM\\nformat (PKCS#8), or an inline private key in PEM format.\")),Object(r.b)(o.a,{common:!0,defaultValue:null,enumValues:null,examples:[\"${KEY_PASS_ENV_VAR}\",\"PassWord1\"],groups:[],name:\"key_pass\",path:\"tls\",relevantWhen:null,required:!1,templateable:!1,type:\"string\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h4\",{id:\"key_pass\"},\"key_pass\"),Object(r.b)(\"p\",null,\"Pass phrase used to unlock the encrypted key file. This has no effect unless\\n\",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"key_file\"),\" is set.\")),Object(r.b)(o.a,{common:!1,defaultValue:!1,enumValues:null,examples:[!1,!0],groups:[],name:\"verify_certificate\",path:\"tls\",relevantWhen:null,required:!1,templateable:!1,type:\"bool\",unit:null,warnings:[{visibility_level:\"option\",text:\"Setting this to `false` will cause OpenSSL to not request a certificate from the client\",option_name:\"verify_certificate\"}],mdxType:\"Field\"},Object(r.b)(\"h4\",{id:\"verify_certificate\"},\"verify_certificate\"),Object(r.b)(\"p\",null,\"If \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"true\"),\", Vector will require a TLS certificate from the connecting host and\\nterminate the connection if it is not valid. If \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"false\"),\" (the default), Vector\\nwill not request a certificate from the client.\"))))),Object(r.b)(\"h2\",{id:\"fields\"},\"Fields\"),Object(r.b)(\"pre\",null,Object(r.b)(\"code\",Object(n.a)({parentName:\"pre\"},{className:\"language-javascript\",metastring:'title=\"example log event\"',title:'\"example',log:!0,'event\"':!0}),'{\\n  // ...\\n  \"message\": \"This is one line from the plain text HTTP body\",\\n  \"timestamp\": \"2019-11-01T21:15:47+00:00\"\\n  // ...\\n}\\n')),Object(r.b)(s.a,{filters:!0,mdxType:\"Fields\"},Object(r.b)(o.a,{common:!0,defaultValue:null,enumValues:null,examples:[\"This is one line from the plain text HTTP body\"],groups:[],name:\"message\",path:null,relevantWhen:{encoding:[\"text\"]},required:!0,templateable:!1,type:\"string\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h3\",{id:\"message\"},\"message\"),Object(r.b)(\"p\",null,\"The message field, containing the plain text message.\")),Object(r.b)(o.a,{common:!0,defaultValue:null,enumValues:null,examples:[\"2019-11-01T21:15:47+00:00\"],groups:[],name:\"timestamp\",path:null,relevantWhen:null,required:!0,templateable:!1,type:\"timestamp\",unit:null,warnings:[],mdxType:\"Field\"},Object(r.b)(\"h3\",{id:\"timestamp\"},\"timestamp\"),Object(r.b)(\"p\",null,\"The time the event was ingested. Note this may be overridden by JSON payloads.\"))),Object(r.b)(\"h2\",{id:\"how-it-works\"},\"How It Works\"),Object(r.b)(\"h3\",{id:\"environment-variables\"},\"Environment Variables\"),Object(r.b)(\"p\",null,\"Environment variables are supported through all of Vector's configuration.\\nSimply add \",Object(r.b)(\"inlineCode\",{parentName:\"p\"},\"${MY_ENV_VAR}\"),\" in your Vector configuration file and the variable\\nwill be replaced before being evaluated.\"),Object(r.b)(\"p\",null,\"You can learn more in the\\n\",Object(r.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"/docs/setup/configuration/#environment-variables\"}),\"Environment Variables\"),\" section.\"),Object(r.b)(\"h3\",{id:\"tls-1\"},\"TLS\"),Object(r.b)(\"p\",null,\"Vector uses \",Object(r.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"https://www.openssl.org/\"}),\"Openssl\"),\" for TLS protocols for it's battle-tested\\nand reliable security. You can enable and adjust TLS behavior via the \",Object(r.b)(\"a\",Object(n.a)({parentName:\"p\"},{href:\"#tls\"}),Object(r.b)(\"inlineCode\",{parentName:\"a\"},\"tls.*\")),\"\\noptions.\"))}h.isMDXComponent=!0},309:function(e,t,a){\"use strict\";a(12);var n=a(0),l=a.n(n),r=a(318),i=a(317),s=a(316),o=a.n(s);t.a=function({children:e,filters:t}){const[a,s]=Object(n.useState)(!1),[c,u]=Object(n.useState)(new Set),[m,d]=Object(n.useState)(!1),[p,b]=Object(n.useState)(null);let h=[];e&&(h=Array.isArray(e)?e:[e]);let f=h.some(e=>e.props.common),g=o()(h).flatMap(e=>e.props.groups).uniq().value(),v=h.some(e=>e.props.required),y=h;return a&&(y=y.filter(e=>e.props.common)),c.size>0&&(y=y.filter(e=>Array.from(c).every(t=>e.props.groups.includes(t)))),m&&(y=y.filter(e=>e.props.required)),p&&(y=y.filter(e=>e.props.name.toLowerCase().includes(p.toLowerCase()))),l.a.createElement(l.a.Fragment,null,h.length>1&&!1!==t?l.a.createElement(\"div\",{className:\"filters\"},l.a.createElement(\"div\",{className:\"search\"},l.a.createElement(\"span\",{className:\"search--result-count\"},y.length,\" items\"),l.a.createElement(\"input\",{className:\"input--text input--lg\",type:\"text\",onChange:e=>b(e.currentTarget.value),placeholder:\"\\ud83d\\udd0d Search...\"})),l.a.createElement(\"div\",{className:\"filter\"},l.a.createElement(\"div\",{className:\"filter--choices\"},l.a.createElement(r.a,{values:g,currentState:c,setState:u}),f&&l.a.createElement(\"label\",{title:\"Only show popular/common results\"},l.a.createElement(\"input\",{type:\"checkbox\",onChange:e=>s(e.currentTarget.checked),checked:a}),\"common\"),v&&l.a.createElement(\"label\",{title:\"Only show required results\"},l.a.createElement(\"input\",{type:\"checkbox\",onChange:e=>d(e.currentTarget.checked),checked:m}),\"required\")))):null,!Array.isArray(y)||y.length>0?l.a.createElement(\"ul\",{className:\"connected-list\"},y):l.a.createElement(i.a,{text:\"no components found\"}))}},310:function(e,t,a){\"use strict\";a(12);var n=a(0),l=a.n(n),r=a(306),i=a.n(r),s=(a(307),a(315));function o(e){return e.includes(\".\")?'\"'+e+'\"':e}function c(e){return\"string\"==typeof e&&e.includes(\"\\n\")?`\"\"\"\\n${e}\\n\"\"\"`:JSON.stringify(e)}function u(e,t){return(a=t)&&a.constructor===Object?\"name\"in t&&\"value\"in t?`${o(t.name)} = ${c(t.value)}`:`${o(Object.keys(t)[0])} = ${c(Object.values(t)[0])}`:e?`${o(e)} = ${c(t)}`:c(t);var a}function m({values:e}){let t=[];if(Array.isArray(e))for(var a in e){let n=e[a];t.push(l.a.createElement(\"code\",{key:n},c(n))),t.push(\" \")}else for(var n in e)t.push(l.a.createElement(\"code\",{key:n,className:\"with-info-icon\",title:e[n]},c(n))),t.push(\" \");return t}function d({name:e,path:t,values:a}){let n=\"\";return a.forEach((function(a){t&&(n+=t+\".\"),n+=u(e,a)+\"\\n\"})),l.a.createElement(\"div\",null,l.a.createElement(s.a,{className:\"language-toml\"},n))}function p({unit:e,value:t}){let a=\"\";return e&&(a=l.a.createElement(l.a.Fragment,null,\" (\",e,\")\")),l.a.createElement(l.a.Fragment,null,l.a.createElement(\"code\",null,c(t)),a)}function b({value:e}){let t=Object.keys(e)[0],a=Object.values(e)[0];return\"\"==a&&(a=null),l.a.createElement(\"span\",null,l.a.createElement(\"code\",null,l.a.createElement(\"a\",{href:\"#\"+t},t)),\" \",\"= \",l.a.createElement(\"code\",null,c(a)))}function h({defaultValue:e,enumValues:t,examples:a,groups:r,name:i,path:s,relevantWhen:o,required:c,unit:u,warnings:h}){const[f,g]=Object(n.useState)(!1);return l.a.createElement(\"ul\",{className:\"info\"},h&&h.length>0&&h.map((e,t)=>l.a.createElement(\"li\",{key:t,className:\"warning\"},l.a.createElement(\"i\",{className:\"feather icon-alert-triangle\"}),\" WARNING:\",\" \",e.text)),o&&l.a.createElement(\"li\",null,\"Only \",c?\"required\":\"relevant\",\" when:\",\" \",l.a.createElement(b,{value:o})),void 0!==e?null!==e?l.a.createElement(\"li\",null,\"Default: \",l.a.createElement(p,{unit:u,value:e})):l.a.createElement(\"li\",null,\"No default\"):null,t&&l.a.createElement(\"li\",null,\"Enum, must be one of: \",l.a.createElement(m,{values:t})),(a.length>1||a[0]!=e)&&l.a.createElement(\"li\",null,l.a.createElement(\"div\",{className:\"show-more\",onClick:()=>g(!f)},f?\"Hide examples\":\"View examples\"),f&&l.a.createElement(d,{name:i,path:s,values:a})))}t.a=function({children:e,common:t,defaultValue:a,enumValues:r,examples:s,groups:o,name:c,path:u,relevantWhen:m,required:d,templateable:p,type:b,unit:f,warnings:g}){const[v,y]=Object(n.useState)(!1);let O=e;return v&&(O=O.filter(e=>\"p\"!=e.props.originalType)),l.a.createElement(\"li\",{className:i()({\"field-required\":d,\"field-collapsed\":v}),required:d},l.a.createElement(\"div\",{className:\"badges\"},p&&l.a.createElement(\"span\",{className:\"badge badge--primary with-info-icon\",title:\"This option is dynamic and accepts the Vector template syntax\"},\"templateable\"),b&&l.a.createElement(\"span\",{className:\"badge badge--secondary\"},b,f&&l.a.createElement(l.a.Fragment,null,\" (\",f,\")\")),r&&Object.keys(r).length>0&&l.a.createElement(\"span\",{className:\"badge badge--secondary with-info-icon\",title:\"This option is an enumation and only allows specific values\"},\"enum\"),t&&l.a.createElement(\"span\",{className:\"badge badge--primary with-info-icon\",title:\"This is a popular that we recommend for getting started\"},\"common\"),d?l.a.createElement(\"span\",{className:\"badge badge--danger\"},\"required\",m&&\"*\"):l.a.createElement(\"span\",{className:\"badge badge--secondary\"},\"optional\")),O,!v&&\"table\"!=b&&l.a.createElement(h,{defaultValue:a,enumValues:r,examples:s,groups:o,name:c,path:u,relevantWhen:m,required:d,unit:f,warnings:g}))}},314:function(e,t,a){\"use strict\";var n=a(0),l=a.n(n),r=a(306),i=a.n(r);a(93);t.a=function({children:e,className:t,fill:a,icon:n,rounded:r,type:s}){let o=null;switch(s){case\"danger\":o=\"alert-triangle\";break;case\"success\":o=\"check-circle\";break;case\"warning\":o=\"alert-triangle\";break;default:o=\"info\"}return l.a.createElement(\"div\",{className:i()(t,\"alert\",\"alert--\"+s,{\"alert--fill\":a,\"alert--icon\":!1!==n,\"alert--rounded\":!0===r}),role:\"alert\"},!1!==n&&l.a.createElement(\"i\",{className:i()(\"feather\",\"icon-\"+(n||o))}),e)}}}]);","extractedComments":[]}